"use strict";(self.webpackChunkgraph_editor=self.webpackChunkgraph_editor||[]).push([[179],{3430:(R,se,p)=>{var D=p(6593),$=p(7308);var e=p(9468),f=p(5861),Z=p(2188);class ce extends Z.Qf.Connection{constructor(a,t,o,i){super(a,t.name,o,i.name)}}var A=p(543),le=p(9194),H=p(8719),de=p(8955);const be=new Map([["activity","featherActivity"],["airplay","featherAirplay"],["alert-circle","featherAlertCircle"],["alert-octagon","featherAlertOctagon"],["alert-triangle","featherAlertTriangle"],["align-center","featherAlignCenter"],["align-justify","featherAlignJustify"],["align-left","featherAlignLeft"],["align-right","featherAlignRight"],["anchor","featherAnchor"],["aperture","featherAperture"],["archive","featherArchive"],["arrow-down-circle","featherArrowDownCircle"],["arrow-down-left","featherArrowDownLeft"],["arrow-down-right","featherArrowDownRight"],["arrow-down","featherArrowDown"],["arrow-left-circle","featherArrowLeftCircle"],["arrow-left","featherArrowLeft"],["arrow-right-circle","featherArrowRightCircle"],["arrow-right","featherArrowRight"],["arrow-up-circle","featherArrowUpCircle"],["arrow-up-left","featherArrowUpLeft"],["arrow-up-right","featherArrowUpRight"],["arrow-up","featherArrowUp"],["at-sign","featherAtSign"],["award","featherAward"],["bar-chart-2","featherBarChart2"],["bar-chart","featherBarChart"],["battery-charging","featherBatteryCharging"],["battery","featherBattery"],["bell-off","featherBellOff"],["bell","featherBell"],["bluetooth","featherBluetooth"],["bold","featherBold"],["book-open","featherBookOpen"],["book","featherBook"],["bookmark","featherBookmark"],["box","featherBox"],["briefcase","featherBriefcase"],["calendar","featherCalendar"],["camera-off","featherCameraOff"],["camera","featherCamera"],["cast","featherCast"],["check-circle","featherCheckCircle"],["check-square","featherCheckSquare"],["check","featherCheck"],["chevron-down","featherChevronDown"],["chevron-left","featherChevronLeft"],["chevron-right","featherChevronRight"],["chevron-up","featherChevronUp"],["chevrons-down","featherChevronsDown"],["chevrons-left","featherChevronsLeft"],["chevrons-right","featherChevronsRight"],["chevrons-up","featherChevronsUp"],["circle","featherCircle"],["clipboard","featherClipboard"],["clock","featherClock"],["cloud-drizzle","featherCloudDrizzle"],["cloud-lightning","featherCloudLightning"],["cloud-off","featherCloudOff"],["cloud-rain","featherCloudRain"],["cloud-snow","featherCloudSnow"],["cloud","featherCloud"],["code","featherCode"],["command","featherCommand"],["compass","featherCompass"],["copy","featherCopy"],["corner-down-left","featherCornerDownLeft"],["corner-down-right","featherCornerDownRight"],["corner-left-down","featherCornerLeftDown"],["corner-left-up","featherCornerLeftUp"],["corner-right-down","featherCornerRightDown"],["corner-right-up","featherCornerRightUp"],["corner-up-left","featherCornerUpLeft"],["corner-up-right","featherCornerUpRight"],["cpu","featherCpu"],["credit-card","featherCreditCard"],["crop","featherCrop"],["crosshair","featherCrosshair"],["database","featherDatabase"],["delete","featherDelete"],["disc","featherDisc"],["dollar-sign","featherDollarSign"],["download-cloud","featherDownloadCloud"],["download","featherDownload"],["droplet","featherDroplet"],["edit-2","featherEdit2"],["edit-3","featherEdit3"],["edit","featherEdit"],["external-link","featherExternalLink"],["eye-off","featherEyeOff"],["eye","featherEye"],["fast-forward","featherFastForward"],["feather","featherFeather"],["file-minus","featherFileMinus"],["file-plus","featherFilePlus"],["file-text","featherFileText"],["file","featherFile"],["film","featherFilm"],["filter","featherFilter"],["flag","featherFlag"],["folder-minus","featherFolderMinus"],["folder-plus","featherFolderPlus"],["folder","featherFolder"],["gift","featherGift"],["git-branch","featherGitBranch"],["git-commit","featherGitCommit"],["git-merge","featherGitMerge"],["git-pull-request","featherGitPullRequest"],["globe","featherGlobe"],["grid","featherGrid"],["hard-drive","featherHardDrive"],["hash","featherHash"],["headphones","featherHeadphones"],["heart","featherHeart"],["help-circle","featherHelpCircle"],["home","featherHome"],["image","featherImage"],["inbox","featherInbox"],["info","featherInfo"],["italic","featherItalic"],["layers","featherLayers"],["layout","featherLayout"],["life-buoy","featherLifeBuoy"],["link-2","featherLink2"],["link","featherLink"],["list","featherList"],["loader","featherLoader"],["lock","featherLock"],["log-in","featherLogIn"],["log-out","featherLogOut"],["mail","featherMail"],["map-pin","featherMapPin"],["map","featherMap"],["maximize-2","featherMaximize2"],["maximize","featherMaximize"],["menu","featherMenu"],["message-circle","featherMessageCircle"],["message-square","featherMessageSquare"],["mic-off","featherMicOff"],["mic","featherMic"],["minimize-2","featherMinimize2"],["minimize","featherMinimize"],["minus-circle","featherMinusCircle"],["minus-square","featherMinusSquare"],["minus","featherMinus"],["monitor","featherMonitor"],["moon","featherMoon"],["more-horizontal","featherMoreHorizontal"],["more-vertical","featherMoreVertical"],["move","featherMove"],["music","featherMusic"],["navigation-2","featherNavigation2"],["navigation","featherNavigation"],["octagon","featherOctagon"],["package","featherPackage"],["paperclip","featherPaperclip"],["pause-circle","featherPauseCircle"],["pause","featherPause"],["percent","featherPercent"],["phone-call","featherPhoneCall"],["phone-forwarded","featherPhoneForwarded"],["phone-incoming","featherPhoneIncoming"],["phone-missed","featherPhoneMissed"],["phone-off","featherPhoneOff"],["phone-outgoing","featherPhoneOutgoing"],["phone","featherPhone"],["pie-chart","featherPieChart"],["play-circle","featherPlayCircle"],["play","featherPlay"],["plus-circle","featherPlusCircle"],["plus-square","featherPlusSquare"],["plus","featherPlus"],["pocket","featherPocket"],["power","featherPower"],["printer","featherPrinter"],["radio","featherRadio"],["refresh-ccw","featherRefreshCcw"],["refresh-cw","featherRefreshCw"],["repeat","featherRepeat"],["rewind","featherRewind"],["rotate-ccw","featherRotateCcw"],["rotate-cw","featherRotateCw"],["rss","featherRss"],["save","featherSave"],["scissors","featherScissors"],["search","featherSearch"],["send","featherSend"],["server","featherServer"],["settings","featherSettings"],["share-2","featherShare2"],["share","featherShare"],["shield-off","featherShieldOff"],["shield","featherShield"],["shopping-bag","featherShoppingBag"],["shopping-cart","featherShoppingCart"],["shuffle","featherShuffle"],["sidebar","featherSidebar"],["skip-back","featherSkipBack"],["skip-forward","featherSkipForward"],["slash","featherSlash"],["sliders","featherSliders"],["smartphone","featherSmartphone"],["speaker","featherSpeaker"],["square","featherSquare"],["star","featherStar"],["stop-circle","featherStopCircle"],["sun","featherSun"],["sunrise","featherSunrise"],["sunset","featherSunset"],["tablet","featherTablet"],["tag","featherTag"],["target","featherTarget"],["terminal","featherTerminal"],["thermometer","featherThermometer"],["thumbs-down","featherThumbsDown"],["thumbs-up","featherThumbsUp"],["toggle-left","featherToggleLeft"],["toggle-right","featherToggleRight"],["trash-2","featherTrash2"],["trash","featherTrash"],["trending-down","featherTrendingDown"],["trending-up","featherTrendingUp"],["triangle","featherTriangle"],["truck","featherTruck"],["tv","featherTv"],["type","featherType"],["umbrella","featherUmbrella"],["underline","featherUnderline"],["unlock","featherUnlock"],["upload-cloud","featherUploadCloud"],["upload","featherUpload"],["user-check","featherUserCheck"],["user-minus","featherUserMinus"],["user-plus","featherUserPlus"],["user-x","featherUserX"],["user","featherUser"],["users","featherUsers"],["video-off","featherVideoOff"],["video","featherVideo"],["voicemail","featherVoicemail"],["volume-1","featherVolume1"],["volume-2","featherVolume2"],["volume-x","featherVolumeX"],["volume","featherVolume"],["watch","featherWatch"],["wifi-off","featherWifiOff"],["wifi","featherWifi"],["wind","featherWind"],["x-circle","featherXCircle"],["x-square","featherXSquare"],["x","featherX"],["zap-off","featherZapOff"],["zap","featherZap"],["zoom-in","featherZoomIn"],["zoom-out","featherZoomOut"]]);var F=p(5619),X=p(8645),E=p(9455);class he extends Z.Qf.Socket{getType(){return this.type}isExec(){return this.exec}constructor(a){super(a.key),this.type=a.type,this.exec=a.exec}}class ke{constructor(){this.id=(0,Z.Kr)()}}var k=function(n){return n.string="string",n.option="option",n.number="number",n.bool="bool",n.array_bool="array_bool",n.array_string="array_string",n.array_number="array_number",n}(k||{});class Le extends ke{constructor(a,t){super(),this.type=a,this.opts=t,this.id=(0,Z.Kr)(),this.multiline=t?.multiline,this.hint=t?.hint,this.step=this.opts?.step,this.required=t?.required,this.options=t?.options,this.default=t.default}getValue(){return this.opts.getValue()}setValue(a){this.opts.setValue(a)}}class Me extends Z.Qf.Input{constructor(a,t,o,i,s){super(a,t,o),this.sub=s,this.def=i}isArray(){return this.def.type.startsWith("[]")}isSub(){return this.sub}getDefinition(){return this.def}}class Te extends Z.Qf.Output{constructor(a,t,o,i,s){super(a,t,o),this.sub=s,this.def=i}}const Oe=new Map([["bool",k.bool],["string",k.string],["number",k.number],["option",k.option],["[]bool",k.array_bool],["[]string",k.array_string],["[]number",k.array_number]]);class Be extends Z.Qf.Node{get width(){return document.querySelector(`node-${this.id}`)?.clientWidth??0}get height(){return document.querySelector(`node-${this.id}`)?.clientHeight??0}constructor(a,t,o,i){super(o),this.inputMap=new Map,this.outputMap=new Map,this.settings={folded:!1},this.outgoingConnections=new Map,this.inputValues=new Map,this.id=a,this.type=t,this.name=o,this.definition=i}getOutputs(){return this.outputMap}getInputs(){return this.inputMap}getOutgoingConnections(a){return this.outgoingConnections.get(a)||0}addOutgoingConnection(a){this.outgoingConnections.set(a,(this.outgoingConnections.get(a)||0)+1)}removeOutgoingConnection(a){this.outgoingConnections.set(a,(this.outgoingConnections.get(a)||1)-1)}getDefinition(){return this.definition}getInputValues(){return this.inputValues}getName(){return this.name}getType(){return this.type}getSettings(){return this.settings}setInputValue(a,t){this.inputValues.set(a,t)}deleteInputValue(a){this.inputValues.delete(a)}getInput(a){return this.inputMap.get(a)}getOutput(a){return this.outputMap.get(a)}setSettings(a){this.settings=a}addOutput2(a,t,o){const i=new he({key:a,type:t.type,exec:!!t.exec}),c=new Te(i,t.name,!t.exec,t,o);return c.index=t.index,super.addOutput(a,c),this.outputMap.set(a,c),c}addInput2(a,t,o,i){const s=new he({key:a,type:t.type,exec:!!t.exec}),l=new Me(s,t.name,!!t.exec,t,i);if(l.index=t.index,super.addInput(a,l),this.inputMap.set(a,l),!t.group){const d=Oe.get(t.type);d&&(l.addControl(new Le(d,{default:t.default,required:t.required,step:t.step,hint:t.hint,group:t.group,options:t.options,multiline:t.multiline,setValue:h=>{this.setInputValue(a,h),o.next(h)},getValue:()=>this.getInputValues().get(a)??t.default??void 0})),t.default&&this.setInputValue(a,t.default))}return l}removeOutput(a){this.outputMap.delete(a),super.removeOutput(a)}removeInput(a){this.inputMap.delete(a),super.removeInput(a)}appendOutputValue(a){var t=this;return(0,f.Z)(function*(){if(a.def.group){const o=j(a.socket.name,[...t.getOutputs().keys()]);t.addOutput2(`${a.socket.name}[${o+1}]`,{...a.def,group:!1,index:Number(a.index)+1+o+1},!0)}})()}appendInputValue(a,t){var o=this;return(0,f.Z)(function*(){if(a.def.group){const i=j(a.socket.name,[...o.getInputValues().keys()]);let s;a.def.hint&&(s=a.def.hint.replace(/{i}/g,`${i+1}`));const c=`${a.socket.name}[${i+1}]`;o.setInputValue(c,a.def.default??null),o.addInput2(c,{...a.def,group:!1,hint:s,index:Number(a.index)+1+i+1},t,!0)}else if(a.isArray()){let i=o.inputValues.get(a.socket.name);void 0===i&&(i=[]);const s=a.control;s&&i.push(s.default||function Ze(n){switch(n){case k.array_string:return"";case k.array_number:return 0;case k.array_bool:return!1;default:throw new Error("expected array type")}}(s.type)),o.setInputValue(a.socket.name,i)}})()}popOutputValue(a){var t=this;return(0,f.Z)(function*(){if(!a.def.group)throw new Error("Cannot pop output value for non-group outputs");{const o=j(a.socket.name,[...t.getOutputs().keys()]);o>=0&&t.removeOutput(`${a.socket.name}[${o}]`)}})()}popInputValue(a){var t=this;return(0,f.Z)(function*(){if(a.def.group){const o=j(a.socket.name,[...t.getInputs().keys()]);if(o>=0){const i=`${a.socket.name}[${o}]`;t.deleteInputValue(i),t.removeInput(i)}}else{if(!a.isArray())throw new Error("Cannot pop input value for non-group and non-array inputs");{const o=t.inputValues.get(a.socket.name);Array.isArray(o)&&o.pop()}}})()}}function j(n,a){let t=-1;const o=new RegExp(`^(${n})\\[([0-9]+)\\]$`);for(const i of a){const s=i.match(o);if(s){const c=parseInt(s[2],10);if(isNaN(c))throw new Error(`Expected number, got ${s[2]}`);t=Math.max(t,c)}}if(t>=127)throw new Error("Cannot add more than 128 sub ports");return t}var J=p(5306);let z=(()=>{class n{constructor(){this._requestId=0,this._callbacks=new Map,this.message$=new X.x,this.messageObservable$=this.message$.asObservable(),typeof acquireVsCodeApi<"u"&&(this._vsCode=acquireVsCodeApi(),window.addEventListener("message",t=>{this.message$.next(t)}))}postMessage(t){if(!this._vsCode)throw new Error("vscode not found");this._vsCode.postMessage(t)}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ee=(()=>{class n{constructor(){this.http=(0,e.f3M)(J.eN)}httpGet(t,o){var i=this;return(0,f.Z)(function*(){const s=yield i.http.get(t,{responseType:"text",withCredentials:!!o?.withCredentials}).toPromise();return(0,E.zD)(s)})()}httpPost(t,o,i){var s=this;return(0,f.Z)(function*(){const c=yield s.http.post(t,o,{responseType:"text",withCredentials:i.withCredentials}).toPromise();return(0,E.zD)(c)})()}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const M_gatewayUrl="https://www.actionforge.dev";function te(n){return n.error&&(n=n.error),n.message?n.message:"string"==typeof n?n:"Unknown error"}function ne(n){if(n.startsWith("http://")||n.startsWith("https://")||n.startsWith("www.")||n.startsWith("github.com")){const o=n.match(/^((http:\/\/|https:\/\/)?)((www.)?github.com)(\/marketplace)?\/(.+?)\/(.+?)(@([a-zA-Z][a-zA-Z0-9._/-]*)?)$/);if(!o)throw new Error("invalid node type id");return{registry:o[3].toLowerCase(),owner:o[6].toLowerCase(),regname:o[7].toLowerCase(),ref:o[9]}}let a=!0;try{let o=(0,E.zD)(n);if(a=!1,Array.isArray(o)){if(o.length>1)throw new Error("invalid node type id");o=o[0]}n=`github.com/${o.uses.trim()}`}catch(o){if(!a)throw o}const t=n.match(/^(([-.\w]+)\/)?([-\w]+)\/([-\w]+)((@([-.\w]+))?)$/);if(!t)throw new Error("invalid node type id");return{registry:t[2].toLowerCase(),owner:t[3].toLowerCase(),regname:t[4].toLowerCase(),ref:t[7].toLowerCase()}}let Q=(()=>{class n{constructor(){this.yamlService=(0,e.f3M)(ee),this.vscode=(0,e.f3M)(z),this.gs=(0,e.f3M)(G),this.basicDefs=new F.X("loading"),this.basicNodeTypeObservable$=this.basicDefs.asObservable(),this.fullDefs=new Map}loadBasicNodeTypeDefinitions(t){var o=this;return(0,f.Z)(function*(){try{t=new Set(t);const i=["github.com/actions/cache","github.com/actions/checkout","github.com/actions/create-release","github.com/actions/setup-dotnet","github.com/actions/setup-go","github.com/actions/setup-java","github.com/actions/setup-node","github.com/actions/setup-python","github.com/actions/upload-artifact"];for(const l of i)t.add(l);const s=yield o.yamlService.httpPost(`${M_gatewayUrl}/api/v1/registry/nodedefs/basic`,{registry_uris:[...t]},{withCredentials:!1}),c=new Map;for(const[l,d]of Object.entries(s))c.set(l,d);o.basicDefs.next(c)}catch(i){throw i instanceof J.UA?new Error(i.error):i}})()}loadFullNodeTypeDefinitions(t){var o=this;return(0,f.Z)(function*(){try{const i=yield o.yamlService.httpPost(`${M_gatewayUrl}/api/v1/registry/nodedefs/full`,{registry_uris:[...t]},{withCredentials:!1}),s=new Map;for(const[c,l]of o.fullDefs)s.set(c,l);for(const[c,l]of Object.entries(i))s.set(c,l);o.fullDefs=s}catch(i){throw i instanceof J.UA?new Error(i.error):i}})()}loadRegistry(t){var o=this;return(0,f.Z)(function*(){const i=ne(t);t=function Ae(n){let a="";return n.registry&&(a+=`${n.registry}/`),a=`${a}${n.owner}/${n.regname}`,n.ref&&(a=`${a}@${n.ref}`),a}(i);const s=o.gs.getRegistriesCopy();return s.add(t),yield o.loadBasicNodeTypeDefinitions(s),o.gs.addRegistry(t),i})()}getBasicNodeTypeDefinitions(){return this.basicNodeTypeObservable$}findBasicNodeTypeDefinitionsSync(t){if("loading"===this.basicDefs.value)throw new Error("Basic node type definitions are still loading");for(const[o,i]of this.basicDefs.value)if(t(o))return i;return null}getFullNodeTypeDefinitions(){return this.fullDefs}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),q=(()=>{class n{constructor(){this.injector=(0,e.f3M)(e.zs3),this.vscode=(0,e.f3M)(z)}createNode(t,o,i,s,c){var l=this;return(0,f.Z)(function*(){const d=l.injector.get(Q);let h=d.getFullNodeTypeDefinitions().get(o);if(!h&&(yield d.loadFullNodeTypeDefinitions(new Set([o])),h=d.getFullNodeTypeDefinitions().get(o),!h))throw new Error(`Node definition for ${o} not found`);let _=h.name;!_&&!h.compact&&(_=`${o} (not found)`,h.name=_,h.style={header:{background:"#ff0000"},body:{background:"#ff0000"}});const y=new Be(t,h.id,_,h);if(void 0!==h.inputs){const m=new Map;for(const[C,w]of Object.entries(h.inputs)){if(w.group&&s){let x=w.index+1;const T=new RegExp(`^(${C})\\[([0-9]+)\\]$`);for(const[P]of Object.entries(s))P.match(T)&&m.set(P,{...w,group:void 0,index:x++,name:""})}m.set(C,w)}for(const[C,w]of m){const x=y.addInput2(C,w,i,!1);if(void 0===s&&w.group_initial&&"number"==typeof w.group_initial)for(let T=0;T<w.group_initial;++T)yield y.appendInputValue(x,i)}}if(s)for(const[m,C]of Object.entries(s))y.setInputValue(m,C);if(void 0!==h.outputs)for(const[m,C]of Object.entries(h.outputs)){const w=y.addOutput2(m,C,!1);if(void 0===c&&C.group_initial&&"number"==typeof C.group_initial)for(let x=0;x<C.group_initial;++x)yield y.appendOutputValue(w)}if(void 0!==c){const m=new RegExp(/^([\w]+)\[[0-9]+\]$/);for(const[C]of Object.entries(c)){const w=C.match(m);if(!w)throw new Error(`Invalid output id: ${C}`);const x=h.outputs[w[1]];if(!x)throw new Error(`unknown port id: ${C}`);if(!x.group)throw new Error(`port is not a group port: ${C}`);y.addOutput2(C,{...x,group:!1},!0)}}return y})()}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Pe=["red","blue","green","yellow","orange","purple","pink","brown","gray","silver","gold","cat","dog","elephant","tiger","lion","giraffe","zebra","monkey","kangaroo","koala","panda","penguin","dolphin","shark","octopus","parrot","butterfly","squirrel","snake","rabbit","apple","banana","cherry","strawberry","kiwi","orange","grape","lemon","watermelon","pineapple","mango","pear","peach","plum","blueberry","raspberry","blackberry","cranberry","pomegranate","coconut"];var Se=p(664),Ie=p.n(Se),O=function(n){return n[n.Unknown=0]="Unknown",n[n.ReadOnly=1]="ReadOnly",n[n.Writable=2]="Writable",n}(O||{});let G=(()=>{class n{constructor(){this.nf=(0,e.f3M)(q),this.injector=(0,e.f3M)(e.zs3),this.vscode=(0,e.f3M)(z),this.loadingLock=new(Ie()),this.lastGraph="",this.origin$=new F.X(null),this.originObservable$=this.origin$.asObservable(),this.graphEntry$=new F.X(null),this.graphEntryObservable$=this.graphEntry$.asObservable(),this.permission$=new F.X(O.Unknown),this.permissionObservable$=this.permission$.asObservable(),this.graphRegistries$=new F.X(new Set),this.graphRegistriesObservable$=this.graphRegistries$.asObservable(),this.nodeCreated=new X.x,this.onNodeCreated$=this.nodeCreated.asObservable(),this.inputChangeEvent=new X.x,this.onInputChangeEvent$=this.inputChangeEvent.asObservable()}inputChangeSubject(){return this.inputChangeEvent}loadGraph(t,o,i){var s=this;return(0,f.Z)(function*(){if(""!==t&&s.lastGraph===t)return;const c=s.injector.get(Q);let l=(0,E.zD)(t);yield s.loadingLock.acquire("loadGraph",(0,f.Z)(function*(){s.permission$.next(O.Unknown),s.lastGraph="",(""===t||0===Object.keys(l).length)&&(l={description:"",entry:"gh-start",nodes:[{id:"gh-start",type:"gh-start@v1",inputs:{},position:{x:100,y:100},settings:void 0},{id:"gh-checkout",type:"github.com/actions/checkout@b4ffde65f46336ab88eb53be808477a3936bae11",inputs:{},position:{x:450,y:100},settings:void 0}],connections:[],executions:[{src:{port:"exec-on-push",node:"gh-start"},dst:{port:"exec",node:"gh-checkout"}}],registries:[]});const d=new Set(l.registries),h=c.loadBasicNodeTypeDefinitions(d);yield i(l),yield Promise.all([h]),s.lastGraph=t,s.graphEntry$.next(l.entry),s.graphRegistries$.next(d),s.permission$.next(o?O.Writable:O.ReadOnly)}))})()}serializeGraph(t,o,i){if(!t||!o)throw new Error("Editor not initialized");const s=this.injector.get(n),c=this.graphEntry$.value;if(!c)throw new Error("Entry not set");const l=[],d=[],h=[],_=new Map,y=t.getNodes();for(const w of y)_.set(w.id,w);for(const[w,x]of _){const T={},P=new Map;if(x.getDefinition().inputs)for(const[V,I]of Object.entries(x.getDefinition().inputs))P.set(V,I.default);for(const[V,I]of x.getInputValues()){const Sn=P.get(V);void 0!==I&&I!==Sn&&(T[V]=I)}const S={};for(const[V,I]of x.getOutputs())I.sub&&(S[V]="");const Nn=o.nodeViews.get(x.id);l.push({id:x.id,type:x.getType(),position:Nn?.position||{x:0,y:0},inputs:Object.values(T).length>0?T:void 0,outputs:Object.values(S).length>0?S:void 0,settings:Object.values(x.getSettings()).length>0?x.getSettings():void 0})}for(const w of t.getConnections()){const x=_.get(w.source),T=_.get(w.target);if(x&&T){const P=w.sourceOutput.startsWith("exec"),S=w.targetInput.startsWith("exec");if(P&&S)h.push({src:{node:x.id,port:w.sourceOutput},dst:{node:T.id,port:w.targetInput}});else{if(P||S)throw new Error("");d.push({src:{node:x.id,port:w.sourceOutput},dst:{node:T.id,port:w.targetInput}})}}}const m={entry:c,executions:h,connections:d,nodes:l,registries:[...s.getRegistries()],description:i},C=(0,E.$w)(m,{noCompatMode:!0});return this.lastGraph=C,C}createNode(t,o,i,s,c){var l=this;return(0,f.Z)(function*(){const d=t.replace(/[^a-zA-Z0-9-]/g,"-").replace(/^github.com-/,"gh-");o||(o=`${d}-${function Ne(n){const a=[...Pe];let t="";for(let o=0;o<n;o++)t+=a[Math.floor(Math.random()*a.length)],o<n-1&&(t+="-");return t}(3)}`);const h=yield l.nf.createNode(o,t,l.inputChangeEvent,s,c);return yield b.addNode(h),l.nodeCreated.next({node:h,userCreated:i}),h})()}deleteNode(t){return(0,f.Z)(function*(){const o=new Set;for(const s of b.getConnections())if(s.source===t||s.target===t)try{yield b.removeConnection(s.id)}finally{o.add(s.source===t?s.target:s.source)}yield b.removeNode(t);const i=[];for(const s of o)i.push(g.update("node",s));yield Promise.all(i)})()}isLoading(){return this.loadingLock.isBusy("loadGraph")}getPermission(){return this.permission$.value}removeRegistry(t){try{ne(t)}catch(i){return void console.log(i)}const o=this.graphRegistries$.value;o.delete(t),this.graphRegistries$.next(o)}addRegistry(t){try{ne(t)}catch(i){return void console.log(i)}const o=this.graphRegistries$.value;o.add(t),this.graphRegistries$.next(o)}getRegistries(){return this.graphRegistries$.value}getRegistriesCopy(){return new Set(this.graphRegistries$.value)}clear(){this.graphEntry$.next(null)}setOrigin(t){this.origin$.next(t)}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var v=p(6814),De=p(896);let Fe=(()=>{class n{constructor(){this.sanitizer=(0,e.f3M)(D.H7)}transform(t){return De.sanitize(t)}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275pipe=e.Yjl({name:"sanitize",type:n,pure:!0})}return n})(),pe=(()=>{class n{constructor(t){this.sanitizer=t}transform(t,o){switch(o){case"html":return this.sanitizer.bypassSecurityTrustHtml(t);case"style":return this.sanitizer.bypassSecurityTrustStyle(t);case"script":return this.sanitizer.bypassSecurityTrustScript(t);case"url":return this.sanitizer.bypassSecurityTrustUrl(t);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(t);default:throw new Error(`invalid safe type specified: ${o}`)}}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(D.H7,16))};static#t=this.\u0275pipe=e.Yjl({name:"safe",type:n,pure:!0})}return n})();function Ee(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"ng-icon",10),e.NdJ("pointerdown",function(i){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onDeleteNode(i))}),e.qZA()}}function Ue(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",7)(1,"ng-icon",8),e.NdJ("pointerdown",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.onShowHideConnectedPorts(i))}),e.qZA(),e.YNc(2,Ee,1,0,"ng-icon",9),e.qZA()}if(2&n){const t=e.oxw();e.ekj("opacity-100",t.mouseover),e.xp6(1),e.Q6J("name",t.getFoldIcon())("title",t.getFoldTooltip()),e.xp6(1),e.Q6J("ngIf",!t.data.getDefinition().entry)}}function Ve(n,a){1&n&&e._UZ(0,"ng-icon",19),2&n&&e.Q6J("name",a.ngIf)}function Re(n,a){if(1&n&&e.YNc(0,Ve,1,1,"ng-icon",18),2&n){const t=e.oxw(2);e.Q6J("ngIf",t.getIcon())}}function $e(n,a){if(1&n&&(e._UZ(0,"iframe",21),e.ALo(1,"safe"),e.ALo(2,"sanitize")),2&n){const t=e.oxw(3);e.Q6J("srcdoc",e.xi3(1,1,e.lcZ(2,4,t.data.getDefinition().icon),"html"),e.oJD)}}function Je(n,a){if(1&n&&e.YNc(0,$e,3,6,"iframe",20),2&n){const t=e.oxw(2);e.Q6J("ngIf",t.data.getDefinition().icon)}}function ze(n,a){if(1&n&&(e.TgZ(0,"span",22),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.Q6J("title",t.data.getType()),e.xp6(1),e.Oqu(t.getNodeId())}}function Qe(n,a){if(1&n&&(e.TgZ(0,"div",11),e.ALo(1,"safe"),e.ynx(2,12),e.TgZ(3,"div",13),e.YNc(4,Re,1,1,"ng-template",14),e.YNc(5,Je,1,1,"ng-template",15),e.TgZ(6,"span",16),e._uU(7),e.qZA()(),e.YNc(8,ze,2,2,"span",17),e.BQk(),e.qZA()),2&n){const t=e.oxw();e.Udp("background",e.xi3(1,8,t.getHeaderBackground(),"style")),e.ekj("rounded-sm",t.isCompact()),e.xp6(2),e.Q6J("ngSwitch",t.data.getDefinition().registry),e.xp6(2),e.Q6J("ngSwitchCase","github.com"),e.xp6(3),e.Oqu(t.getNodeLabel()),e.xp6(1),e.Q6J("ngIf",t.isGitHubAction())}}const Ge=function(n,a,t,o){return{type:"socket",side:"input",key:n,nodeId:a,payload:t,seed:o}};function He(n,a){if(1&n&&e._UZ(0,"div",28),2&n){const t=e.oxw().$implicit,o=e.oxw();e.Q6J("data",e.l5B(2,Ge,t.key,o.data.id,t.value.socket,o.seed))("emit",o.emit)}}function je(n,a){if(1&n&&(e.TgZ(0,"span",29),e._uU(1),e.qZA()),2&n){const t=a.ngIf,o=e.oxw().$implicit;e.Q6J("title",o.value.def.description),e.xp6(1),e.Oqu(t)}}function qe(n,a){if(1&n){const t=e.EpF();e.ynx(0),e._UZ(1,"div",30),e.TgZ(2,"button",31),e.NdJ("pointerdown",function(i){e.CHM(t);const s=e.oxw().$implicit,c=e.oxw();return e.KtG(c.onAppendInputValue(i,s.value))}),e._uU(3," Add "),e.qZA(),e.TgZ(4,"button",31),e.NdJ("pointerdown",function(i){e.CHM(t);const s=e.oxw().$implicit,c=e.oxw();return e.KtG(c.onPopInputValue(i,s.value))}),e._uU(5," Remove "),e.qZA(),e.BQk()}}const Ye=function(n){return{type:"control",payload:n}};function We(n,a){if(1&n&&e._UZ(0,"div",32),2&n){const t=e.oxw().$implicit,o=e.oxw();e.Q6J("data",e.VKq(2,Ye,t.value.control))("emit",o.emit)}}function Ke(n,a){if(1&n&&(e.TgZ(0,"div",23),e.YNc(1,He,1,7,"div",24),e.YNc(2,je,2,2,"span",25),e.YNc(3,qe,6,0,"ng-container",26),e.YNc(4,We,1,4,"div",27),e.qZA()),2&n){const t=a.$implicit,o=e.oxw();e.ekj("hidden",!o.showInput(t.value))("flex-wrap",t.value.isArray()),e.xp6(1),e.Q6J("ngIf",o.showSocket(t.value)),e.xp6(1),e.Q6J("ngIf",t.value.label),e.xp6(1),e.Q6J("ngIf",o.showInputGroupButtons(t.value)),e.xp6(1),e.Q6J("ngIf",o.showInputControl(t.value))}}function Xe(n,a){if(1&n&&(e.TgZ(0,"div",33),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",t.data.getName()," ")}}function et(n,a){if(1&n&&(e.TgZ(0,"span",37),e._uU(1),e.qZA()),2&n){const t=a.ngIf;e.xp6(1),e.Oqu(t)}}function tt(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",31),e.NdJ("pointerdown",function(i){e.CHM(t);const s=e.oxw().$implicit,c=e.oxw();return e.KtG(c.onAppendOutputValue(i,s.value))}),e._uU(2," Add "),e.qZA(),e.TgZ(3,"button",31),e.NdJ("pointerdown",function(i){e.CHM(t);const s=e.oxw().$implicit,c=e.oxw();return e.KtG(c.onPopOutputValue(i,s.value))}),e._uU(4," Remove "),e.qZA(),e.BQk()}}const nt=function(n,a,t,o){return{type:"socket",side:"output",key:n,nodeId:a,payload:t,seed:o}};function ot(n,a){if(1&n&&e._UZ(0,"div",38),2&n){const t=e.oxw().$implicit,o=e.oxw();e.Q6J("data",e.l5B(2,nt,t.key,o.data.id,t.value.socket,o.seed))("emit",o.emit)}}function rt(n,a){if(1&n&&(e.TgZ(0,"div",34),e.YNc(1,et,2,1,"span",35),e.YNc(2,tt,5,0,"ng-container",26),e.YNc(3,ot,1,7,"div",36),e.qZA()),2&n){const t=a.$implicit,o=e.oxw();e.ekj("hidden",!o.showOutput(t.key)),e.xp6(1),e.Q6J("ngIf",t.value.label),e.xp6(1),e.Q6J("ngIf",o.showOutputGroupButtons(t.value)),e.xp6(1),e.Q6J("ngIf",o.showSocket(t.value))}}const ge="linear-gradient(to right, rgb(34, 118, 197), rgb(21, 67, 128))",me="linear-gradient(to right, rgb(50, 120, 200), rgb(10, 50, 128))",it=new Map([["white","white"],["yellow","linear-gradient(to right, #996633 0%, #ff9900 100%)"],["blue","linear-gradient(to right, #333399 0%, #0066ff 100%)"],["green","linear-gradient(135deg, rgba(5, 171, 18, 1.0), rgba(2, 64, 16, 1.0))"],["orange","linear-gradient(to right, #cc6600 0%, #996633 100%)"],["red","linear-gradient(to right, #990000 0%, #cc3300 100%)"],["purple","linear-gradient(to right, #660033 0%, #660066 100%)"],["gray-dark","#303030"]]),at=new Map([["white","white"],["yellow","linear-gradient(to right, #ff9933 0%, #996600 100%)"],["blue","linear-gradient(to right, #003366 0%, #0066cc 100%)"],["green","linear-gradient(135deg, rgba(5, 171, 18, 1.0), rgba(2, 64, 16, 1.0))"],["orange","linear-gradient(to right, #cc6600 0%, #996600 100%)"],["red","linear-gradient(to right, #990000 0%, #cc3300 100%)"],["purple","linear-gradient(to right, #660066 0%, #660033 100%)"],["gray-dark","#404040"]]);let st=(()=>{class n{constructor(){this.cdr=(0,e.f3M)(e.sBO),this.gs=(0,e.f3M)(G),this.nf=(0,e.f3M)(q),this.nr=(0,e.f3M)(Q),this.seed=0,this.mouseover=!1,this.Permission=O,this.cdr.detach()}ngOnChanges(){this.cdr.detectChanges(),requestAnimationFrame(()=>this.rendered()),this.seed++}isCompact(){return this.data.getDefinition().compact}onShowHideConnectedPorts(t){var o=this;return(0,f.Z)(function*(){t.stopPropagation(),t.preventDefault();const i=b.getNode(o.data.id);i.getSettings().folded=!i.getSettings().folded,yield g.update("node",o.data.id),o.cdr.detectChanges()})()}onDeleteNode(t){var o=this;return(0,f.Z)(function*(){t.stopPropagation(),t.preventDefault(),yield o.gs.deleteNode(o.data.id)})()}onAppendOutputValue(t,o){var i=this;return(0,f.Z)(function*(){t.stopPropagation(),yield i.data.appendOutputValue(o),yield g.update("node",i.data.id),i.cdr.detectChanges()})()}onAppendInputValue(t,o){var i=this;return(0,f.Z)(function*(){t.stopPropagation(),yield i.data.appendInputValue(o,i.gs.inputChangeSubject());const s=o.control;s&&(yield g.update("control",s.id)),yield g.update("node",i.data.id),i.cdr.detectChanges()})()}onPopOutputValue(t,o){var i=this;return(0,f.Z)(function*(){t.stopPropagation(),yield i.data.popOutputValue(o),yield g.update("node",i.data.id),i.cdr.detectChanges()})()}onPopInputValue(t,o){var i=this;return(0,f.Z)(function*(){t.stopPropagation(),yield i.data.popInputValue(o);const s=o.control;s&&(yield g.update("control",s.id)),yield g.update("node",i.data.id),i.cdr.detectChanges()})()}onMouseOver(){this.mouseover||(this.mouseover=!0,this.cdr.detectChanges())}onMouseOut(){this.mouseover&&(this.mouseover=!1,this.cdr.detectChanges())}get selected(){return!!this.data.selected}getFoldIcon(){return this.data.getSettings().folded?"tablerArrowsMaximize":"tablerArrowsMinimize"}getFoldTooltip(){return this.data.getSettings().folded?"Show All Ports":"Hide Unconnected Ports"}getHeaderBackground(){if("github.com"===this.data.getDefinition().registry){const t=this.data.getDefinition().style?.header?.background;if(t)return it.get(t)||ge}return this.data.getDefinition().style?.header?.background||ge}getBodyBackground(){if("github.com"===this.data.getDefinition().registry){const t=this.data.getDefinition().style?.body?.background;if(t)return at.get(t)||me}return this.data.getDefinition().style?.body?.background||me}getNodeLabel(){return this.data.getDefinition().name}getNodeId(){return this.data.getDefinition().id.split("/",2)[1]}isGitHubAction(){return"github.com"===this.data.getDefinition().registry}getPermission(){return this.gs.getPermission()}getIcon(){return function xe(n){return be.get(n)}(this.data.getDefinition().icon)??"featherFeather"}showOutput(t){return!this.data.getSettings().folded||this.data.getOutgoingConnections(t)>0}showOutputGroupButtons(t){return this.gs.getPermission()===O.Writable&&!!t.def.group}showInputGroupButtons(t){return this.gs.getPermission()===O.Writable&&(!!t.def.group||t.isArray()&&!(!t.control||!t.showControl))}showInputControl(t){return!(t.def.group||!t.control||!t.showControl)}showInput(t){return!this.data.getSettings().folded||t.socket.isExec()||!(!t.control||t.showControl)}showSocket(t){return!t.def.group}sortPorts(t,o){return void 0!==t.value.index&&void 0!==o.value.index?t.value.index-o.value.index:t.key.localeCompare(o.key)}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],hostVars:2,hostBindings:function(o,i){1&o&&e.NdJ("mouseover",function(){return i.onMouseOver()})("mouseout",function(){return i.onMouseOut()}),2&o&&e.ekj("selected",i.selected)},inputs:{data:"data",emit:"emit",rendered:"rendered"},features:[e.TTD],decls:12,vars:23,consts:[["class","flex items-center pointer-events-none justify-between gap-x-2 absolute z-[100] px-2 -top-8 h-8 w-full text-gray-700 dark:text-gray-300 \n  opacity-0 transition duration-500",3,"opacity-100",4,"ngIf"],["class","cid-title h-8 bg-slate-600 w-full flex items-center justify-between gap-x-1 px-2",3,"rounded-sm","background",4,"ngIf"],[1,"cid-body","w-full","flex","flex-col","bg-gray-200","dark:bg-slate-700","rounded-b-lg"],[3,"ngClass"],["class","flex flex-row flex-wrap justify-start items-center px-2 py-1 gap-x-2",3,"hidden","flex-wrap",4,"ngFor","ngForOf"],["class","text-4xl text-center order-2",4,"ngIf"],["class","flex flex-row justify-end items-center ml-6 mr-2 gap-x-2 my-1",3,"hidden",4,"ngFor","ngForOf"],[1,"flex","items-center","pointer-events-none","justify-between","gap-x-2","absolute","z-[100]","px-2","-top-8","h-8","w-full","text-gray-700","dark:text-gray-300","opacity-0","transition","duration-500"],["size","18","matTooltipPosition","above",1,"pointer-events-auto","cursor-pointer","text-sm","text-gray-300","dark:text-white","hover:text-blue-500","hover:dark:text-blue-500",3,"name","title","pointerdown"],["name","octTrash","size","18","title","Delete Node","matTooltipPosition","above","class","pointer-events-auto cursor-pointer text-sm text-gray-300 dark:text-white hover:text-red-500 hover:dark:text-red-500",3,"pointerdown",4,"ngIf"],["name","octTrash","size","18","title","Delete Node","matTooltipPosition","above",1,"pointer-events-auto","cursor-pointer","text-sm","text-gray-300","dark:text-white","hover:text-red-500","hover:dark:text-red-500",3,"pointerdown"],[1,"cid-title","h-8","bg-slate-600","w-full","flex","items-center","justify-between","gap-x-1","px-2"],[3,"ngSwitch"],[1,"flex","flex-row","items-center","justify-between","gap-x-2"],[3,"ngSwitchCase"],["ngSwitchDefault",""],[1,"cid-label"],["class","cid-id",3,"title",4,"ngIf"],["class","text-white","size","16",3,"name",4,"ngIf"],["size","16",1,"text-white",3,"name"],["frameborder","0","scrolling","no","marginwidth","0","marginheight","0","class","rounded-sm py-1 h-8 w-8",3,"srcdoc",4,"ngIf"],["frameborder","0","scrolling","no","marginwidth","0","marginheight","0",1,"rounded-sm","py-1","h-8","w-8",3,"srcdoc"],[1,"cid-id",3,"title"],[1,"flex","flex-row","flex-wrap","justify-start","items-center","px-2","py-1","gap-x-2"],["refComponent","",3,"data","emit",4,"ngIf"],["class","whitespace-nowrap",3,"title",4,"ngIf"],[4,"ngIf"],["refComponent","","class","leading-4 w-full",3,"data","emit",4,"ngIf"],["refComponent","",3,"data","emit"],[1,"whitespace-nowrap",3,"title"],[1,"flex-grow"],[1,"opacity-50",3,"pointerdown"],["refComponent","",1,"leading-4","w-full",3,"data","emit"],[1,"text-4xl","text-center","order-2"],[1,"flex","flex-row","justify-end","items-center","ml-6","mr-2","gap-x-2","my-1"],["class","whitespace-nowrap",4,"ngIf"],["class","cid-output-socket","refComponent","",3,"data","emit",4,"ngIf"],[1,"whitespace-nowrap"],["refComponent","",1,"cid-output-socket",3,"data","emit"]],template:function(o,i){1&o&&(e.YNc(0,Ue,3,5,"div",0),e.YNc(1,Qe,9,11,"div",1),e.TgZ(2,"div",2),e.ALo(3,"safe"),e.TgZ(4,"div",3)(5,"div",3),e.YNc(6,Ke,5,8,"div",4),e.ALo(7,"keyvalue"),e.qZA(),e.YNc(8,Xe,2,1,"div",5),e.TgZ(9,"div",3),e.YNc(10,rt,4,5,"div",6),e.ALo(11,"keyvalue"),e.qZA()()()),2&o&&(e.Q6J("ngIf",i.getPermission()===i.Permission.Writable),e.xp6(1),e.Q6J("ngIf",!i.isCompact()),e.xp6(1),e.Udp("background",e.xi3(3,14,i.getBodyBackground(),"style")),e.ekj("pointer-events-none",i.getPermission()===i.Permission.ReadOnly)("rounded-t-lg",i.isCompact()),e.xp6(2),e.Q6J("ngClass",i.isCompact()?"flex flex-row justify-center items-center":"flex flex-col"),e.xp6(1),e.Q6J("ngClass",i.isCompact()?"order-1":"w-full order-2"),e.xp6(1),e.Q6J("ngForOf",e.xi3(7,17,i.data.getInputs(),i.sortPorts)),e.xp6(2),e.Q6J("ngIf",i.isCompact()),e.xp6(1),e.Q6J("ngClass",i.isCompact()?"order-3":"w-full   order-1"),e.xp6(1),e.Q6J("ngForOf",e.xi3(11,20,i.data.getOutputs(),i.sortPorts)))},dependencies:[v.mk,v.sg,v.O5,v.RF,v.n9,v.ED,$.sZ,H.oX,v.Nd,Fe,pe],styles:["[_nghost-%COMP%]{font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;font-size:.75rem;line-height:1rem}[_nghost-%COMP%]:hover{--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is([class=dark]   [_nghost-%COMP%]:hover){--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity))}[_nghost-%COMP%]{box-shadow:0 0 16px #0003;display:inline-block;height:auto;box-sizing:content-box;min-width:160px;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.3s;border:2px solid transparent;border-radius:9px}.selected[_nghost-%COMP%]{border-color:var(--vscode-focusBorder)!important}[_nghost-%COMP%]   .cid-title[_ngcontent-%COMP%]{border-radius:7px 7px 0 0;overflow:hidden}[_nghost-%COMP%]   .cid-title[_ngcontent-%COMP%]   .cid-label[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}[_nghost-%COMP%]   .cid-title[_ngcontent-%COMP%]   .cid-id[_ngcontent-%COMP%]{margin-left:1rem;--tw-text-opacity: 1;color:rgb(96 165 250 / var(--tw-text-opacity))}[_nghost-%COMP%]   .cid-body[_ngcontent-%COMP%]   .cid-output[_ngcontent-%COMP%]{display:flex;align-items:center;padding-right:8px;text-align:right;justify-content:flex-end;height:2em}[_nghost-%COMP%]   .cid-body[_ngcontent-%COMP%]   .cid-output-socket[_ngcontent-%COMP%]{text-align:right}[_nghost-%COMP%]   .cid-body[_ngcontent-%COMP%]   .cid-input-title[_ngcontent-%COMP%], [_nghost-%COMP%]   .cid-body[_ngcontent-%COMP%]   .cid-output-title[_ngcontent-%COMP%]{font-size:.75rem;line-height:1rem;color:#fff;display:inline-block;font-family:sans-serif;margin:8px;line-height:16px}"]})}return n})(),ct=(()=>{class n{isExec(){return this.data.sourceOutput.startsWith("exec")||this.data.targetInput.startsWith("exec")}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-connection"]],inputs:{data:"data",start:"start",end:"end",path:"path"},decls:2,vars:3,consts:[[1,"stroke-black","dark:stroke-gray-200"]],template:function(o,i){1&o&&(e.O4$(),e.TgZ(0,"svg"),e._UZ(1,"path",0),e.qZA()),2&o&&(e.xp6(1),e.ekj("exec",i.isExec()),e.uIk("d",i.path))},styles:["svg[_ngcontent-%COMP%]{overflow:visible;position:absolute;pointer-events:none}svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:none;pointer-events:auto;stroke-width:1.5px}svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:not(.exec){animation:_ngcontent-%COMP%_dash 1.2s linear infinite;stroke-dasharray:5,5;stroke-dashoffset:0}body.dark[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:not(.exec){stroke:#fff}body[_ngcontent-%COMP%]:not(.dark)   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:not(.exec){stroke:#00f}@keyframes _ngcontent-%COMP%_dash{to{stroke-dashoffset:-10}}@keyframes _ngcontent-%COMP%_blinker{50%{opacity:25%}}"]})}return n})();var Y=p(2596);function lt(n,a){1&n&&e._UZ(0,"ng-icon",1)}let dt=(()=>{class n{constructor(){this.tooltip=(0,e.f3M)(Y.gM),this.cdr=(0,e.f3M)(e.sBO),this.cdr.detach()}get isArray(){return this.data.getType().startsWith("[]")}ngOnChanges(){this.cdr.detectChanges(),requestAnimationFrame(()=>this.rendered())}onMouseEnter(){this.tooltip.message=this.data.getType(),this.tooltip.show()}onMouseLeave(){this.tooltip.hide()}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],hostVars:2,hostBindings:function(o,i){1&o&&e.NdJ("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()}),2&o&&e.ekj("isArray",i.isArray)},inputs:{data:"data",rendered:"rendered"},features:[e._Bn([Y.gM]),e.TTD],decls:1,vars:1,consts:[["name","tablerGridDots",4,"ngIf"],["name","tablerGridDots"]],template:function(o,i){1&o&&e.YNc(0,lt,1,0,"ng-icon",0),2&o&&e.Q6J("ngIf",i.isArray)},dependencies:[v.O5,$.sZ],styles:["[_nghost-%COMP%]{display:inline-block;cursor:pointer;width:20px;height:20px}[_nghost-%COMP%]:not(.isArray){vertical-align:middle;border:1px solid white;border-radius:10px;background:rgba(0,0,0,.28);box-sizing:border-box}"]})}return n})(),ht=(()=>{class n{constructor(){this.cdr=(0,e.f3M)(e.sBO),this.cdr.detach()}ngOnChanges(){this.cdr.detectChanges(),requestAnimationFrame(()=>this.rendered())}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],inputs:{data:"data",rendered:"rendered"},features:[e.TTD],decls:2,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","-4 -2 25 24","width","20","height","20",1,"sc-cWSHoV","XlIPi"],["d","M0,0 L10,0 L20,10 L10,20 L0,20 Z"]],template:function(o,i){1&o&&(e.O4$(),e.TgZ(0,"svg",0),e._UZ(1,"path",1),e.qZA())},styles:["[_nghost-%COMP%]{vertical-align:middle;display:inline-block;cursor:pointer;width:20px;height:20px;stroke:#fff;fill:#7197f8}"]})}return n})();const ut=["input"],N=function(n){return{value:n}};function ft(n,a){if(1&n&&e.GkF(0,10),2&n){const t=e.oxw(),o=e.MAs(14);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(2,N,t.data.getValue()||t.data.default||!1))}}function pt(n,a){if(1&n&&e.GkF(0,10),2&n){const t=e.oxw(),o=e.MAs(16);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(2,N,t.data.getValue()||t.data.default||0))}}function gt(n,a){if(1&n&&e.GkF(0,10),2&n){const t=e.oxw(),o=e.MAs(12);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(2,N,t.data.getValue()||t.data.default||""))}}function mt(n,a){if(1&n&&e.GkF(0,10),2&n){const t=e.oxw(),o=e.MAs(10);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(2,N,t.data.getValue()||t.data.default||""))}}const oe=function(){return[]};function Ct(n,a){if(1&n&&e.GkF(0,10),2&n){const t=e.oxw(),o=e.MAs(18);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(3,N,t.data.getValue()||e.DdM(2,oe)))}}function _t(n,a){if(1&n&&e.GkF(0,10),2&n){const t=e.oxw(),o=e.MAs(20);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(3,N,t.data.getValue()||e.DdM(2,oe)))}}function wt(n,a){if(1&n&&e.GkF(0,10),2&n){const t=e.oxw(),o=e.MAs(22);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(3,N,t.data.getValue()||e.DdM(2,oe)))}}function vt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"vscode-option",13),e.NdJ("mousedown",function(i){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onChange(i))}),e._uU(1),e.qZA()}if(2&n){const t=a.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.name)}}function yt(n,a){if(1&n&&(e.TgZ(0,"vscode-dropdown",11),e.YNc(1,vt,2,2,"vscode-option",12),e.qZA()),2&n){const t=e.oxw();e.Q6J("value",t.data.getValue()||t.data.default),e.xp6(1),e.Q6J("ngForOf",t.data.options)}}function xt(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"input",16),e.NdJ("blur",function(i){e.CHM(t);const s=e.oxw().index,c=e.oxw();return e.KtG(c.onChange(i,s))})("keyup.enter",function(i){e.CHM(t);const s=e.oxw().index,c=e.oxw();return e.KtG(c.onChange(i,s))}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw().value,o=e.oxw();e.xp6(1),e.ekj("cid-required",o.isEmpty()),e.Q6J("placeholder",o.data.hint||"")("value",t)("readonly",o.getPermission()===o.Permission.ReadOnly)}}function bt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"vscode-text-area",17,18),e.NdJ("blur",function(i){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onChange(i))})("keyup",function(i){e.CHM(t);const s=e.oxw().index,c=e.oxw();return e.KtG(c.onChange(i,s))}),e.qZA()}if(2&n){const t=e.oxw().value,o=e.oxw();e.ekj("cid-required",o.isEmpty()),e.Q6J("readonly",o.getPermission()===o.Permission.ReadOnly)("value",t)}}function kt(n,a){if(1&n&&(e.YNc(0,xt,2,5,"ng-container",14),e.YNc(1,bt,2,4,"ng-template",null,15,e.W1O)),2&n){const t=e.MAs(2),o=e.oxw();e.Q6J("ngIf",!o.data.multiline)("ngIfElse",t)}}function Lt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"vscode-checkbox",19),e.NdJ("change",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.onChange(i))}),e.qZA()}2&n&&e.Q6J("checked",a.value)}function Mt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"input",20,18),e.NdJ("keyup",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.onChange(i))})("blur",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.onChange(i,void 0,!0))}),e.qZA()}if(2&n){const t=a.value,o=e.oxw();e.Q6J("value",t)("readonly",o.getPermission()===o.Permission.ReadOnly)("title",t)("step",o.data.step)}}function Tt(n,a){1&n&&e._uU(0," Array Boolean\n")}function Ot(n,a){1&n&&e._uU(0," Array Number\n")}const Bt=function(n,a){return{value:n,index:a}};function Zt(n,a){if(1&n&&(e.TgZ(0,"div",23),e.GkF(1,10),e.qZA()),2&n){const t=a.$implicit,o=a.index;e.oxw(2);const i=e.MAs(12);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.WLB(2,Bt,t||"",o))}}function At(n,a){if(1&n&&(e.TgZ(0,"div",21),e.YNc(1,Zt,2,5,"div",22),e.qZA()),2&n){const t=a.value;e.xp6(1),e.Q6J("ngForOf",t)}}let Pt=(()=>{class n{constructor(){this.cdr=(0,e.f3M)(e.sBO),this.gs=(0,e.f3M)(G),this.BaseControlType=k,this.Permission=O,this.cdr.detach()}getPermission(){return this.gs.getPermission()}isEmpty(){return!(!this.data.required||this.data.getValue())}ngOnChanges(t){const o=t.seed,i=t.data;(o&&o.currentValue!==o.previousValue||i&&i.currentValue!==i.previousValue)&&this.cdr.detectChanges(),requestAnimationFrame(()=>this.rendered())}mouseEnter(t){if(t.stopPropagation(),t instanceof PointerEvent&&t.target instanceof HTMLInputElement){const o=function Nt(n,a,t){if("VSCODE-TEXT-AREA"===t.tagName&&(t=t.shadowRoot.querySelector("textarea")),t instanceof HTMLTextAreaElement){const o=t.getBoundingClientRect(),i=parseFloat(getComputedStyle(t).lineHeight)||1,s=Math.floor((a-o.top)/i),c=Math.round((n-o.left)/t.clientWidth*t.value.length),l=t.value.split("\n");let d=0;for(let h=0;h<s&&h<l.length;h++)d+=l[h].length+1;return d+c}{const o=t.getBoundingClientRect();return Math.round((n-o.left)/(t.clientWidth/t.value.length))}}(t.clientX,t.clientY,t.target);if(this.inputField){const i=this.inputField.nativeElement;"number"===i.type?i.focus():i.setSelectionRange(o,o)}}}onChange(t,o,i){const s=t.target,c=this.data.getValue();switch(this.data.type){case k.array_string:case k.array_number:case k.array_bool:{let l=s.value;if(""===l&&this.data.required&&this.data.default&&(l=this.data.default),void 0===o||o<0)throw new Error("Expected index");if(!Array.isArray(c))throw new Error("Expected array");if(o>=c.length)throw new Error("Index out of bounds");if(!Array.isArray(c)||void 0!==c[o]&&typeof c[o]!=typeof l)throw new Error("Expected value of type "+this.data.type);c[o]=l,this.data.setValue(c);break}case k.option:case k.string:{let l=s.value;""===l&&this.data.required&&(l=`${this.data.default??""}`),s.value=l,this.data.setValue(l);break}case k.number:{t instanceof KeyboardEvent&&"Enter"===t.key&&(i=!0);let l=s.value;""===l&&(l=this.data.default?`${this.data.default}`:"",i&&""===l&&(l="0")),s.value=l,this.data.setValue(+l);break}case k.bool:this.data.setValue(s.checked)}this.cdr.detectChanges()}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-basecontrol"]],viewQuery:function(o,i){if(1&o&&e.Gf(ut,5),2&o){let s;e.iGM(s=e.CRH())&&(i.inputField=s.first)}},hostBindings:function(o,i){1&o&&e.NdJ("wheel",function(c){return i.mouseEnter(c)})("dblclick",function(c){return i.mouseEnter(c)})("pointerdown",function(c){return i.mouseEnter(c)})},inputs:{data:"data",rendered:"rendered"},features:[e.TTD],decls:23,vars:10,consts:[[1,"hover:opacity-100"],[3,"ngSwitch"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngSwitchCase"],["option",""],["string",""],["bool",""],["number",""],["arrayBoolean",""],["arrayNumber",""],["arrayString",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"value"],[3,"value","mousedown",4,"ngFor","ngForOf"],[3,"value","mousedown"],[4,"ngIf","ngIfElse"],["stringMulti",""],["type","text","autocomplete","off",1,"w-full","cid-input",3,"placeholder","value","readonly","blur","keyup.enter"],[1,"w-full","cid-input",3,"readonly","value","blur","keyup"],["input",""],[1,"w-6","h-6",3,"checked","change"],["type","number","placeholder"," ",3,"value","readonly","title","step","keyup","blur"],[1,"flex","flex-col","gap-y-2","pl-8","w-full"],["class","w-full",4,"ngFor","ngForOf"],[1,"w-full"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0),e.ynx(1,1),e.YNc(2,ft,1,4,"ng-container",2),e.YNc(3,pt,1,4,"ng-container",2),e.YNc(4,gt,1,4,"ng-container",2),e.YNc(5,mt,1,4,"ng-container",2),e.YNc(6,Ct,1,5,"ng-container",2),e.YNc(7,_t,1,5,"ng-container",2),e.YNc(8,wt,1,5,"ng-container",2),e.BQk(),e.qZA(),e.YNc(9,yt,2,2,"ng-template",null,3,e.W1O),e.YNc(11,kt,3,2,"ng-template",null,4,e.W1O),e.YNc(13,Lt,1,1,"ng-template",null,5,e.W1O),e.YNc(15,Mt,2,4,"ng-template",null,6,e.W1O),e.YNc(17,Tt,1,0,"ng-template",null,7,e.W1O),e.YNc(19,Ot,1,0,"ng-template",null,8,e.W1O),e.YNc(21,At,2,1,"ng-template",null,9,e.W1O)),2&o&&(e.ekj("opacity-70",i.data.getValue()===i.data.default),e.xp6(1),e.Q6J("ngSwitch",i.data.type),e.xp6(1),e.Q6J("ngSwitchCase",i.BaseControlType.bool),e.xp6(1),e.Q6J("ngSwitchCase",i.BaseControlType.number),e.xp6(1),e.Q6J("ngSwitchCase",i.BaseControlType.string),e.xp6(1),e.Q6J("ngSwitchCase",i.BaseControlType.option),e.xp6(1),e.Q6J("ngSwitchCase",i.BaseControlType.array_bool),e.xp6(1),e.Q6J("ngSwitchCase",i.BaseControlType.array_number),e.xp6(1),e.Q6J("ngSwitchCase",i.BaseControlType.array_string))},dependencies:[v.sg,v.O5,v.tP,v.RF,v.n9],styles:[".cid-input[_ngcontent-%COMP%]:placeholder-shown.cid-required{border:1px solid var(--vscode-inputValidation-errorBorder)}"]})}return n})();const Ce=new(p(2765).l);let b,g,U;function re(){return(re=(0,f.Z)(function*(n,a){n.addEventListener("dblclick",s=>{s.stopPropagation(),s.preventDefault()},!0);const t=new Z.it;b=t,g=new A.Rr(n),U=new de.zK;const o=new le.cL,i=new H.or({injector:a});return i.addPreset(H.s8.classic.setup({customize:{node:()=>st,connection:s=>ct,socket:s=>s.payload.isExec()?ht:dt,control:s=>s.payload?Pt:null}})),o.addPreset(le.s8.classic.setup()),function It(n){const a=document.createElement("div");a.classList.add("bg-red-50"),n.area.content.add(a)}(g),b.use(g),g.use(o),g.use(i),U.addPreset(de.s8.classic.setup()),g.use(U),A.mO.simpleNodesOrder(g),A.mO.selectableNodes(g,A.mO.selector(),{accumulating:A.mO.accumulateOnCtrl()}),A.mO.snapGrid(g,{size:10,dynamic:!0}),A.mO.showInputControl(g,({hasAnyConnection:s})=>!s),b.addPipe(s=>{const{type:c}=s;switch(c){case"connectioncreated":{const{data:l}=s,d=t.getNode(l.source);d&&d.addOutgoingConnection(l.sourceOutput);break}case"connectionremoved":{const{data:l}=s,d=t.getNode(l.source);d&&d.removeOutgoingConnection(l.sourceOutput);break}case"connectioncreate":{const{data:l}=s,d=b.getNode(l.source),h=b.getNode(l.target);if(d&&h){const _=d.getOutput(l.sourceOutput),y=h.getInput(l.targetInput);if(_&&y){const m=_.socket.getType(),C=y.socket.getType();if(y.socket.isExec())return _.socket.isExec()?s:void 0;if(_.socket.isExec())return;if(m===C||"any"===C)return s;switch(C){case"bool":return"number"===m?s:void 0;case"number":return"bool"===m?s:void 0;case"string":return["number","bool"].includes(m)?s:void 0;case"option":return["number","string"].includes(m)?s:void 0;case"[]bool":return"[]number"===m?s:void 0;case"[]number":return"[]bool"===m?s:void 0}return}}}}return s}),{editor:b,area:g,arrange:U,connection:o}})).apply(this,arguments)}var u=p(6275),L=p(1570),_e=p(1996),Ft=p(2827),B=function(n){return n.Success="success",n.Error="error",n.Info="info",n.Warning="warning",n}(B||{});let W=(()=>{class n{constructor(){this.notificationQueue=[],this.notificationSubject=new F.X([]),this.notification$=this.notificationSubject.asObservable()}showNotification(t,o,i){const s={type:t,message:o};setTimeout(()=>{this.notificationQueue=this.notificationQueue.filter(c=>c!==s),this.notificationSubject.next([...this.notificationQueue])},i?.timeout??3e3),this.notificationQueue.push(s),this.notificationSubject.next([...this.notificationQueue])}clearNotification(t){const o=this.notificationQueue.indexOf(t);-1!==o&&(this.notificationQueue.splice(o,1),this.notificationSubject.next([...this.notificationQueue]))}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ie=(()=>{class n{constructor(){this.ns=(0,e.f3M)(W),this.yamlService=(0,e.f3M)(ee)}graphRead(t){return(0,f.Z)(function*(){throw new Error("not in dev or web mode")})()}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac})}return n})();var r=p(1568),Xt=p(220),we=p.n(Xt),en=p(389),ve=p(342),K=p(95);let tn=(()=>{class n{constructor(){this.elementRef=(0,e.f3M)(e.SBq),this.renderer=(0,e.f3M)(e.Qsj),this.onChange=()=>{},this.onTouched=()=>{}}writeValue(t){this.renderer.setProperty(this.elementRef.nativeElement,"value",t||"")}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}onInput(t){this.onChange&&this.onChange(t)}onBlur(){this.onTouched&&this.onTouched()}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275dir=e.lG2({type:n,selectors:[["vscode-text-area","ngModel",""]],hostBindings:function(o,i){1&o&&e.NdJ("input",function(c){return i.onInput(c.target.value)})("blur",function(){return i.onBlur()})},features:[e._Bn([{provide:K.JU,useExisting:(0,e.Gpc)(()=>n),multi:!0}])]})}return n})();function nn(n,a){1&n&&(e.TgZ(0,"a",11)(1,"vscode-button",12),e._uU(2," Open GitHub Marketplace "),e.qZA()())}function on(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"vscode-button",13),e.NdJ("click",function(i){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onCopyToClipboard(i))}),e._uU(1,"Copy to clipboard"),e.qZA()}}function rn(n,a){if(1&n&&e.GkF(0,15),2&n){e.oxw(2);const t=e.MAs(10);e.Q6J("ngTemplateOutlet",t)}}function an(n,a){1&n&&e._UZ(0,"div")}function sn(n,a){if(1&n&&e._UZ(0,"img",28),2&n){const t=e.oxw().$implicit;e.Q6J("src",t.value.avatar,e.LSH)}}function cn(n,a){if(1&n&&(e.TgZ(0,"div",29),e._UZ(1,"ng-icon",30),e.TgZ(2,"span",31),e._uU(3),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(3),e.hij("By ",t.value.verified.name,"")}}function ln(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"li",19),e.NdJ("click",function(i){const c=e.CHM(t).$implicit,l=e.oxw(5);return e.KtG(l.onCreateNode(i,c.key))})("keyup",function(){return 0}),e.TgZ(1,"div",20),e.YNc(2,sn,1,1,"img",21),e.TgZ(3,"div",22)(4,"div",23)(5,"span",24),e._uU(6),e.qZA(),e.TgZ(7,"span",25),e._uU(8),e.qZA()(),e.TgZ(9,"p",26),e._uU(10),e.qZA()()(),e.YNc(11,cn,4,1,"div",27),e.qZA()}if(2&n){const t=a.$implicit,o=e.oxw(5);e.Q6J("title",t.value.id+" "+t.value.description),e.xp6(2),e.Q6J("ngIf",t.value.avatar),e.xp6(4),e.Oqu(t.value.name),e.xp6(2),e.Oqu(o.trimNodeUri(t.key)),e.xp6(1),e.Q6J("title",t.value.description),e.xp6(1),e.hij(" ",t.value.description," "),e.xp6(1),e.Q6J("ngIf",t.value.verified)}}function dn(n,a){if(1&n&&(e.TgZ(0,"ul",17),e.YNc(1,ln,12,7,"li",18),e.ALo(2,"keyvalue"),e.qZA()),2&n){const t=e.oxw(2).ngIf;e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,t))}}function hn(n,a){if(1&n&&(e.ynx(0),e.YNc(1,an,1,0,"div",9),e.YNc(2,dn,3,3,"ul",16),e.BQk()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("ngIf",0===t.size),e.xp6(1),e.Q6J("ngIf",t.size>0)}}function un(n,a){if(1&n&&(e.ynx(0),e.YNc(1,rn,1,1,"ng-container",14),e.YNc(2,hn,3,2,"ng-container",9),e.BQk()),2&n){const t=a.ngIf;e.xp6(1),e.Q6J("ngIf","loading"===t),e.xp6(1),e.Q6J("ngIf","loading"!==t)}}function fn(n,a){1&n&&(e.TgZ(0,"div",32),e._UZ(1,"vscode-progress-ring"),e.qZA())}function pn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",4),e.YNc(2,nn,3,0,"a",5),e.TgZ(3,"vscode-text-area",6),e.NdJ("ngModelChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.nodeUrl=i)}),e.qZA(),e.TgZ(4,"vscode-button",7),e.NdJ("click",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.onLoadRegistry(i,s.nodeUrl))}),e._uU(5,"Load Github Action"),e.qZA(),e.YNc(6,on,2,0,"vscode-button",8),e.qZA(),e.YNc(7,un,3,2,"ng-container",9),e.ALo(8,"async"),e.YNc(9,fn,2,0,"ng-template",null,10,e.W1O),e.qZA()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.isVsCode()),e.xp6(1),e.Q6J("ngModel",t.nodeUrl),e.xp6(1),e.Q6J("disabled",0===t.nodeUrl.length),e.xp6(2),e.Q6J("ngIf",t.isDev()),e.xp6(1),e.Q6J("ngIf",e.lcZ(8,5,t.getBasicNodeTypeDefinitions()))}}function gn(n,a){1&n&&e.GkF(0)}(0,_e.o)().register((0,en.d)());let mn=(()=>{class n{constructor(){this.nf=(0,e.f3M)(q),this.nr=(0,e.f3M)(Q),this.ns=(0,e.f3M)(W),this.gs=(0,e.f3M)(G),this.clipboard=(0,e.f3M)(ve.TU),this.injector=(0,e.f3M)(e.zs3),this.nodeUrl=""}isDev(){return false}isVsCode(){return true}onCopyToClipboard(t){const o=this.gs.serializeGraph(b,g,"Dev");this.clipboard.copy(o)}getBasicNodeTypeDefinitions(){return this.nr.getBasicNodeTypeDefinitions()}onLoadRegistry(t,o){var i=this;return(0,f.Z)(function*(){t.preventDefault(),t.stopPropagation();try{const s=yield i.nr.loadRegistry(o);if(i.isVsCode()){const c=i.injector.get(z),l=i.gs.serializeGraph(b,g,"");c.postMessage({type:"saveGraph",data:l})}i.ns.showNotification(B.Success,`Loaded ${s.owner}/${s.regname}@${s.ref} successfully.`)}catch(s){console.error(s),i.ns.showNotification(B.Error,te(s))}})()}onCreateNode(t,o){var i=this;return(0,f.Z)(function*(){t.preventDefault(),t.stopPropagation(),yield i.gs.createNode(o,null,!0)})()}trimNodeUri(t){return t.substring(11)}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-sidebar"]],decls:4,vars:1,consts:[["nodes",""],[1,"w-80","h-full","z-[1000]"],[4,"ngTemplateOutlet"],[1,"flex","flex-col","gap-y-4","h-full"],[1,"px-4","flex","flex-col","gap-y-4","mt-4"],["href","https://github.com/marketplace?type=actions","target","_blank","rel","noreferrer",4,"ngIf"],["placeholder","E.g: github.com/actions/checkout",3,"ngModel","ngModelChange"],[1,"h-[2rem]",3,"disabled","click"],["class","h-[2rem]",3,"click",4,"ngIf"],[4,"ngIf"],["loadingNodes",""],["href","https://github.com/marketplace?type=actions","target","_blank","rel","noreferrer"],[1,"secondary","w-full","h-[2rem]","mb-1.5"],[1,"h-[2rem]",3,"click"],[3,"ngTemplateOutlet",4,"ngIf"],[3,"ngTemplateOutlet"],["class","cid-scrollbar",4,"ngIf"],[1,"cid-scrollbar"],["tabindex","0","class","flex flex-col gap-y-1 cursor-pointer w-full px-2 py-2 cid-registry","matTooltipPosition","left","matTooltipShowDelay","750",3,"title","click","keyup",4,"ngFor","ngForOf"],["tabindex","0","matTooltipPosition","left","matTooltipShowDelay","750",1,"flex","flex-col","gap-y-1","cursor-pointer","w-full","px-2","py-2","cid-registry",3,"title","click","keyup"],[1,"flex","flex-row","items-center"],["class","w-10 h-10","alt","",3,"src",4,"ngIf"],[1,"flex","flex-col","justify-center","ml-2","gap-y-1","overflow-hidden"],[1,"flex","flex-row","gap-x-2","justify-between"],[1,"font-bold","whitespace-nowrap","cid-name"],[1,"truncate","cid-description"],[1,"truncate","cid-description",3,"title"],["class","flex flex-row items-center justify-end gap-x-1",4,"ngIf"],["alt","",1,"w-10","h-10",3,"src"],[1,"flex","flex-row","items-center","justify-end","gap-x-1"],["name","octShieldCheck","size","12","color","#40a6ff"],[1,"truncate"],[1,"mx-auto"]],template:function(o,i){if(1&o&&(e.YNc(0,pn,11,7,"ng-template",null,0,e.W1O),e.TgZ(2,"aside",1),e.YNc(3,gn,1,0,"ng-container",2),e.qZA()),2&o){const s=e.MAs(1);e.xp6(3),e.Q6J("ngTemplateOutlet",s)}},dependencies:[v.sg,v.O5,v.tP,$.sZ,K.JJ,K.On,tn,v.Ov,v.Nd],styles:["[_nghost-%COMP%]{background-color:var(--vscode-editor-background);z-index:1;box-shadow:-10px 0 16px #0003;font-size:13px}.cid-registry[_ngcontent-%COMP%]:hover{background-color:var(--vscode-editor-selectionHighlightBackground)}.cid-name[_ngcontent-%COMP%]{color:var(--vscode-editor-foreground)}.cid-description[_ngcontent-%COMP%]{color:var(--vscode-descriptionForeground)}"]})}return n})();const Cn=["rete"];function _n(n,a){if(1&n&&(e.TgZ(0,"div",9),e._uU(1),e.qZA()),2&n){const t=a.ngIf;e.xp6(1),e.HOy(" ",t.owner," / ",t.repo," / ",t.ref," / ",t.path," ")}}function wn(n,a){if(1&n&&(e.TgZ(0,"div",7),e.YNc(1,_n,2,4,"div",8),e.ALo(2,"async"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.getOrigin()))}}function vn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",14)(1,"button",15),e.NdJ("click",function(i){const c=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.onCreateNode(i,c.type))}),e.ALo(2,"safe"),e.qZA()()}if(2&n){const t=a.$implicit;e.Q6J("ngClass",a.index>0?"opacity-0 duration-300 -translate-x-96 transform transition-transform group-hover:opacity-100 group-hover:translate-x-0":""),e.xp6(1),e.Q6J("innerHTML",e.xi3(2,3,t.icon,"html"),e.oJD)("matTooltip",t.tooltip)}}function yn(n,a){if(1&n&&(e.TgZ(0,"div",12),e.YNc(1,vn,3,6,"div",13),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngForOf",t)}}function xn(n,a){if(1&n&&(e.TgZ(0,"div",7)(1,"div",10),e.YNc(2,yn,2,1,"div",11),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.nodeButtonSeries)}}function bn(n,a){1&n&&(e.TgZ(0,"div",16),e._uU(1," Read only "),e.qZA())}function kn(n,a){1&n&&(e.ynx(0),e._UZ(1,"app-sidebar"),e.BQk())}(0,_e.o)().register(Ft.DD);let Ln=(()=>{class n{constructor(){var t=this;this.nr=(0,e.f3M)(Q),this.gs=(0,e.f3M)(G),this.nf=(0,e.f3M)(q),this.ns=(0,e.f3M)(W),this.gw=(0,e.f3M)(ie),this.injector=(0,e.f3M)(e.zs3),this.yamlService=(0,e.f3M)(ee),this.vscode=(0,e.f3M)(z),this.cdr=(0,e.f3M)(e.sBO),this.debounceOpenGraph=we()(this.openGraph,1e3,{leading:!0,trailing:!0}),this.Permission=O,this.nodeButtonSeries=[[{type:"branch@v1",icon:'<svg width="64" height="64" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg">\n   <path id="Y" fill-rule="evenodd" stroke="none" d="M 44.060001 41.68 C 44.060001 42.088001 43.934002 42.411999 43.681999 42.652 C 43.43 42.892002 43.076004 43.012001 42.619999 43.012001 L 38.119999 43.012001 C 36.07999 43.012001 34.238007 42.634003 32.594002 41.877998 C 30.949991 41.121994 29.624004 40.048004 28.615999 38.655998 C 27.607994 37.263992 26.996 35.668007 26.780001 33.868 L 19.58 33.868 C 19.123999 33.868 18.77 33.748001 18.518 33.507999 C 18.265999 33.267998 18.139999 32.932003 18.139999 32.5 C 18.139999 32.091995 18.265999 31.768002 18.518 31.528 C 18.77 31.287998 19.123999 31.167999 19.58 31.167999 L 26.780001 31.167999 C 26.972 29.29599 27.559996 27.670006 28.544001 26.290001 C 29.528006 24.909992 30.835991 23.848003 32.467999 23.104 C 34.10001 22.359997 35.98399 21.987999 38.119999 21.987999 L 42.619999 21.987999 C 43.076004 21.987999 43.43 22.107998 43.681999 22.348 C 43.934002 22.588001 44.060001 22.911999 44.060001 23.32 C 44.060001 23.752003 43.934002 24.087997 43.681999 24.327999 C 43.43 24.568001 43.076004 24.688 42.619999 24.688 L 38.012001 24.688 C 35.179985 24.688 32.972008 25.377995 31.388 26.757999 C 29.803991 28.138008 29.011999 30.051987 29.011999 32.5 C 29.011999 34.924011 29.809992 36.831993 31.406 38.223999 C 33.002007 39.616005 35.203987 40.312 38.012001 40.312 L 42.619999 40.312 C 43.076004 40.312 43.43 40.437996 43.681999 40.690002 C 43.934002 40.942001 44.060001 41.271996 44.060001 41.68 Z"/>\n</svg>',tooltip:"Conditional Branch"}],[{type:"for@v1",icon:'<svg class="w-6 h-6" fill="currentColor" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">\n   <path ormArrayName="none" d="M 23.59 19.41 L 26 22 L 21 22 L 21 24 L 26 24 L 23.59 26.59 L 25 28 L 30 23 L 25 18 L 23.59 19.41 Z" />\n   <path stroke="none" d="M 13 6 C 9.679776 6.001223 6.629909 7.83037 5.065279 10.75882 C 3.50065 13.687271 3.675431 17.239302 5.52 20 L 7.18 18.889999 C 5.395627 16.220497 5.656277 12.679302 7.81228 10.299833 C 9.968283 7.920362 13.466703 7.312864 16.298685 8.826174 C 19.130667 10.339485 20.56991 13.585493 19.789976 16.700285 C 19.010042 19.815079 16.210955 21.999823 13 22 L 2 22 L 2 24 L 13 24 C 17.970562 24 22 19.970562 22 15 C 22 10.029438 17.970562 6 13 6 Z" />\n</svg>',tooltip:"For Loop"},{type:"parallel-for@v1",icon:'<svg class="w-6 h-6" fill="currentColor" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">\n    <path id="Path" stroke="none" d="M 24.59 19.41 L 27 22 L 22 22 L 22 24 L 27 24 L 24.59 26.59 L 26 28 L 31 23 L 26 18 L 24.59 19.41 Z"/>\n    <path id="Path-copy-2" stroke="none" d="M 24.59 6.41 L 27 9 L 22 9 L 22 11 L 27 11 L 24.59 13.59 L 26 15 L 31 10 L 26 5 L 24.59 6.41 Z"/>\n    <path id="path1" stroke="none" d="M 13 6 C 9.679776 6.001223 6.629909 7.83037 5.065279 10.75882 C 3.50065 13.687271 3.675431 17.239302 5.52 20 L 7.18 18.889999 C 5.395627 16.220497 5.656277 12.679302 7.81228 10.299833 C 9.968283 7.920362 13.466703 7.312864 16.298685 8.826174 C 19.130667 10.339485 20.56991 13.585493 19.789976 16.700285 C 19.010042 19.815079 16.210955 21.999823 13 22 L 2 22 L 2 24 L 13 24 C 17.970562 24 22 19.970562 22 15 C 22 10.029438 17.970562 6 13 6 Z"/>\n</svg>',tooltip:"Parallel For Loop"},{type:"parallel-exec@v1",icon:'<svg width="64" height="64" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" stroke="currentColor">\n<g>\n    <g>\n        <path id="Path" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" d="M 19.333334 20.833332 L 50.25 20.833332"/>\n        <path id="path1" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" d="M 41.416668 29.666668 L 50.25 20.833332"/>\n        <path id="path2" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" d="M 41.416668 12 L 50.25 20.833332"/>\n    </g>\n    <g>\n        <path id="path3" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" d="M 19.333334 42.833336 L 50.25 42.833336"/>\n        <path id="path4" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" d="M 41.416668 51.666668 L 50.25 42.833336"/>\n        <path id="path5" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" d="M 41.416668 34 L 50.25 42.833336"/>\n    </g>\n</g>\n</svg>',tooltip:"Parallel Execution"},{type:"wait-for@v1",icon:'<svg width="64" height="64" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" stroke="currentColor">\n    <g id="Group">\n        <path stroke-width="8" stroke-linecap="round" stroke-linejoin="round" d="M 50.200001 18 L 11 18"/>\n        <path stroke-width="8" stroke-linecap="round" stroke-linejoin="round" d="M 11 29.200001 L 30.6 29.200001"/>\n        <path stroke-width="8" stroke-linecap="round" stroke-linejoin="round" d="M 30.6 40.400002 L 11 40.400002"/>\n        <path id="path3" fill-rule="evenodd" stroke="none" d="M 46.362 56.060001 L 46.362 53.288002 C 43.457985 53.023998 41.256008 52.124008 39.756001 50.588001 C 38.255993 49.051994 37.506001 47.108009 37.506001 44.756001 L 43.158001 44.756001 C 43.181999 46.052006 43.583996 47.095997 44.363998 47.888 C 45.144005 48.680004 46.409992 49.076 48.161999 49.076 C 49.506008 49.076 50.579994 48.818001 51.383999 48.302002 C 52.188004 47.785995 52.59 46.988007 52.59 45.908001 C 52.59 45.067993 52.410004 44.408005 52.049999 43.928001 C 51.689999 43.447998 51.090004 43.076004 50.25 42.812 C 49.409996 42.547997 48.270008 42.296001 46.830002 42.056 C 45.053989 41.743996 43.506008 41.306004 42.186001 40.742001 C 40.865993 40.177998 39.840004 39.386005 39.108002 38.365997 C 38.375996 37.345993 38.009998 36.032005 38.009998 34.424 C 38.009998 32.167988 38.747993 30.344006 40.223999 28.952 C 41.700008 27.559994 43.745987 26.743999 46.362 26.504002 L 46.362 23.66 L 49.566002 23.66 L 49.566002 26.540001 C 52.038013 26.804001 53.993992 27.625992 55.433998 29.006001 C 56.874008 30.386005 57.605999 32.131989 57.630001 34.243999 L 52.014 34.243999 C 51.966 32.947994 51.534004 32.018005 50.717999 31.453999 C 49.901997 30.889996 48.918007 30.608002 47.765999 30.608002 C 46.541992 30.608002 45.576004 30.889996 44.868 31.453999 C 44.159996 32.018005 43.806 32.767998 43.806 33.704002 C 43.806 34.496002 43.997997 35.096001 44.382 35.503998 C 44.766003 35.912003 45.389996 36.23 46.254002 36.458 C 47.118004 36.686001 48.257992 36.931999 49.674 37.195999 C 50.754005 37.363998 51.809994 37.591999 52.841999 37.879997 C 53.874004 38.167999 54.809998 38.599998 55.650002 39.176003 C 56.490005 39.752003 57.155998 40.531998 57.647999 41.515999 C 58.140003 42.500008 58.386002 43.79599 58.386002 45.403999 C 58.386002 47.540009 57.648006 49.327991 56.172001 50.767998 C 54.695992 52.208008 52.494015 53.047997 49.566002 53.288002 L 49.566002 56.060001 Z"/>\n    </g>\n</svg>',tooltip:"Wait For"}],[{type:"switch-platform@v1",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em)" fill="currentColor">\n   <path d="M14.25 1c.966 0 1.75.784 1.75 1.75v7.5A1.75 1.75 0 0 1 14.25 12h-3.727c.099 1.041.52 1.872 1.292 2.757A.752.752 0 0 1 11.25 16h-6.5a.75.75 0 0 1-.565-1.243c.772-.885 1.192-1.716 1.292-2.757H1.75A1.75 1.75 0 0 1 0 10.25v-7.5C0 1.784.784 1 1.75 1ZM1.75 2.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25ZM9.018 12H6.982a5.72 5.72 0 0 1-.765 2.5h3.566a5.72 5.72 0 0 1-.765-2.5Z"></path>\n</svg>',tooltip:"Platform Switch"},{type:"switch-arch@v1",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" style="width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em)" fill="currentColor">\n   <path d="M6.5.75V2h3V.75a.75.75 0 0 1 1.5 0V2h1.25c.966 0 1.75.784 1.75 1.75V5h1.25a.75.75 0 0 1 0 1.5H14v3h1.25a.75.75 0 0 1 0 1.5H14v1.25A1.75 1.75 0 0 1 12.25 14H11v1.25a.75.75 0 0 1-1.5 0V14h-3v1.25a.75.75 0 0 1-1.5 0V14H3.75A1.75 1.75 0 0 1 2 12.25V11H.75a.75.75 0 0 1 0-1.5H2v-3H.75a.75.75 0 0 1 0-1.5H2V3.75C2 2.784 2.784 2 3.75 2H5V.75a.75.75 0 0 1 1.5 0Zm5.75 11.75a.25.25 0 0 0 .25-.25v-8.5a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25v8.5c0 .138.112.25.25.25ZM5.75 5h4.5a.75.75 0 0 1 .75.75v4.5a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1-.75-.75v-4.5A.75.75 0 0 1 5.75 5Zm.75 4.5h3v-3h-3Z"></path>\n</svg>',tooltip:"Architecture Switch"}],[{type:"negate@v1",icon:'<svg width="64" height="64" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg">\n   <path id="path1" fill-rule="evenodd" stroke="none" d="M 30.65 38.152 L 29.318001 28.396 L 29.318001 19.756001 L 34.717999 19.756001 L 34.717999 28.396 L 33.386002 38.152 Z M 29.606001 46 L 29.606001 41.068001 L 34.394001 41.068001 L 34.394001 46 Z"/>\n</svg>',tooltip:"Negate"}],[{type:"bool-and@v1",icon:'<svg width="64" height="64" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg">\n   <path id="AND" fill-rule="evenodd" stroke="none" d="M 39.709499 38 L 39.709499 25.606998 L 44.9795 25.606998 C 46.21484 25.606998 47.257496 25.867664 48.107498 26.389 C 48.957504 26.910336 49.600666 27.635662 50.036999 28.564999 C 50.473335 29.494339 50.691502 30.57666 50.691502 31.812 C 50.691502 33.04734 50.473335 34.129662 50.036999 35.058998 C 49.600666 35.988338 48.957504 36.710831 48.107498 37.226501 C 47.257496 37.742168 46.21484 38 44.9795 38 Z M 42.3615 35.738998 L 44.554501 35.738998 C 45.223171 35.738998 45.815331 35.617168 46.331001 35.373501 C 46.846668 35.129829 47.251831 34.716171 47.546501 34.1325 C 47.841167 33.548828 47.988499 32.758339 47.988499 31.761002 C 47.988499 30.786327 47.841167 30.015671 47.546501 29.449001 C 47.251831 28.882332 46.846668 28.474335 46.331001 28.224998 C 45.815331 27.975666 45.223171 27.851002 44.554501 27.851002 L 42.3615 27.851002 Z M 26.0755 38 L 26.0755 25.606998 L 29.237499 25.606998 L 34.456501 34.362 L 34.5755 34.362 L 34.473499 30.401001 L 34.473499 25.606998 L 37.023499 25.606998 L 37.023499 38 L 34.031502 38 L 28.8125 29.431999 L 28.693501 29.431999 L 28.761499 33.018997 L 28.761499 38 Z M 12.7135 38 L 16.8445 25.606998 L 20.584499 25.606998 L 24.7155 38 L 21.9615 38 L 21.1285 35.450001 L 16.300501 35.450001 L 15.4675 38 Z M 16.9125 33.427002 L 20.5165 33.427002 L 19.4625 30.264999 L 18.765499 28.004002 L 18.6635 28.004002 L 17.966499 30.264999 Z"/>\n</svg>',tooltip:"Bool AND"},{type:"bool-or@v1",icon:'<svg width="64" height="64" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg">\n   <path id="OR" fill-rule="evenodd" stroke="none" d="M 33.938 38 L 33.938 25.606998 L 40.057999 25.606998 C 41.508675 25.606998 42.590996 25.912998 43.305 26.525002 C 44.019005 27.137005 44.375999 28.015327 44.375999 29.16 C 44.375999 29.896671 44.186169 30.534164 43.806499 31.072498 C 43.42683 31.610836 42.902672 31.959332 42.234001 32.118 L 42.234001 32.237 C 43.458008 32.474998 44.07 33.273994 44.07 34.634003 L 44.07 36.571999 C 44.07 36.798668 44.081333 37.033833 44.104 37.2775 C 44.126667 37.521168 44.188999 37.762001 44.291 38 L 41.622002 38 C 41.554001 37.852669 41.502998 37.654335 41.469002 37.404999 C 41.435001 37.155666 41.417999 36.878002 41.417999 36.571999 L 41.417999 35.093002 C 41.417999 34.560333 41.290501 34.152336 41.0355 33.868999 C 40.780499 33.585663 40.279003 33.444 39.530998 33.444 L 36.59 33.444 L 36.59 38 Z M 36.59 31.335999 L 39.667 31.335999 C 40.381004 31.335999 40.893833 31.166 41.205502 30.826 C 41.51717 30.486 41.673 30.049671 41.673 29.516998 C 41.673 28.893665 41.488834 28.451668 41.120499 28.191002 C 40.752163 27.930332 40.26767 27.799999 39.667 27.799999 L 36.59 27.799999 Z M 25.761 38.153 C 24.514328 38.153 23.426338 37.903671 22.497 37.404999 C 21.567661 36.90633 20.842337 36.183838 20.320999 35.237499 C 19.799664 34.291161 19.539 33.143673 19.539 31.794998 C 19.539 30.457661 19.799664 29.315838 20.320999 28.369499 C 20.842337 27.423161 21.567661 26.700668 22.497 26.202 C 23.426338 25.703331 24.514328 25.453999 25.761 25.453999 C 27.007673 25.453999 28.098495 25.703331 29.033501 26.202 C 29.968504 26.700668 30.69383 27.423161 31.209499 28.369499 C 31.72517 29.315838 31.983 30.457661 31.983 31.794998 C 31.983 33.143673 31.72517 34.291161 31.209499 35.237499 C 30.69383 36.183838 29.968504 36.90633 29.033501 37.404999 C 28.098495 37.903671 27.007673 38.153 25.761 38.153 Z M 25.761 35.891998 C 26.826338 35.891998 27.676331 35.549171 28.311001 34.863503 C 28.945669 34.17783 29.263 33.155006 29.263 31.794998 C 29.263 30.434994 28.945669 29.415005 28.311001 28.735001 C 27.676331 28.054996 26.826338 27.715 25.761 27.715 C 24.695662 27.715 23.848503 28.054996 23.2195 28.735001 C 22.590496 29.415005 22.275999 30.434994 22.275999 31.794998 C 22.275999 33.16634 22.59333 34.191998 23.228001 34.872002 C 23.862669 35.552002 24.706995 35.891998 25.761 35.891998 Z"/>\n</svg>',tooltip:"Bool OR"},{type:"bool-xand@v1",icon:'<svg width="64" height="64" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg">\n   <path id="XAND" fill-rule="evenodd" stroke="none" d="M 45.9655 38 L 45.9655 25.606998 L 51.2355 25.606998 C 52.47084 25.606998 53.513496 25.867664 54.363499 26.389 C 55.213505 26.910336 55.856663 27.635662 56.292999 28.564999 C 56.729336 29.494339 56.947498 30.57666 56.947498 31.812 C 56.947498 33.04734 56.729336 34.129662 56.292999 35.058998 C 55.856663 35.988338 55.213505 36.710831 54.363499 37.226501 C 53.513496 37.742168 52.47084 38 51.2355 38 Z M 48.6175 35.738998 L 50.810501 35.738998 C 51.479172 35.738998 52.071331 35.617168 52.587002 35.373501 C 53.102669 35.129829 53.507832 34.716171 53.802502 34.1325 C 54.097168 33.548828 54.244499 32.758339 54.244499 31.761002 C 54.244499 30.786327 54.097168 30.015671 53.802502 29.449001 C 53.507832 28.882332 53.102669 28.474335 52.587002 28.224998 C 52.071331 27.975666 51.479172 27.851002 50.810501 27.851002 L 48.6175 27.851002 Z M 32.331501 38 L 32.331501 25.606998 L 35.4935 25.606998 L 40.712502 34.362 L 40.831501 34.362 L 40.7295 30.401001 L 40.7295 25.606998 L 43.279499 25.606998 L 43.279499 38 L 40.287498 38 L 35.068501 29.431999 L 34.949501 29.431999 L 35.017502 33.018997 L 35.017502 38 Z M 18.9695 38 L 23.1005 25.606998 L 26.8405 25.606998 L 30.9715 38 L 28.217501 38 L 27.384501 35.450001 L 22.556499 35.450001 L 21.723499 38 Z M 23.168501 33.427002 L 26.772499 33.427002 L 25.7185 30.264999 L 25.0215 28.004002 L 24.9195 28.004002 L 24.2225 30.264999 Z M 6.4235 38 L 10.9455 31.369999 L 6.9165 25.606998 L 10.0275 25.606998 L 12.6285 29.653 L 12.6965 29.653 L 15.2975 25.606998 L 18.408501 25.606998 L 14.4305 31.353001 L 18.952499 38 L 15.8075 38 L 12.6965 33.257 L 12.6285 33.257 L 9.5005 38 Z"/>\n</svg>',tooltip:"Bool XAND"},{type:"bool-xor@v1",icon:'<svg width="64" height="64" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg">\n   <path id="XOR" fill-rule="evenodd" stroke="none" d="M 31.652344 38.152344 C 30.405672 38.152344 29.316055 37.902966 28.386719 37.404297 C 27.45738 36.905624 26.732273 36.18462 26.210938 35.238281 C 25.689602 34.291946 25.429688 33.143593 25.429688 31.794922 C 25.429688 30.457584 25.689602 29.315479 26.210938 28.369141 C 26.732273 27.422802 27.45738 26.699841 28.386719 26.201172 C 29.316055 25.702503 30.405672 25.453125 31.652344 25.453125 C 32.899017 25.453125 33.988823 25.702503 34.923828 26.201172 C 35.858833 26.699841 36.583942 27.422802 37.099609 28.369141 C 37.61528 29.315479 37.873047 30.457584 37.873047 31.794922 C 37.873047 33.143593 37.61528 34.291946 37.099609 35.238281 C 36.583942 36.18462 35.858833 36.905624 34.923828 37.404297 C 33.988823 37.902966 32.899017 38.152344 31.652344 38.152344 Z M 13.037109 38 L 17.558594 31.369141 L 13.529297 25.607422 L 16.640625 25.607422 L 19.242188 29.652344 L 19.308594 29.652344 L 21.910156 25.607422 L 25.021484 25.607422 L 21.042969 31.353516 L 25.566406 38 L 22.419922 38 L 19.308594 33.257813 L 19.242188 33.257813 L 16.113281 38 L 13.037109 38 Z M 39.828125 38 L 39.828125 25.607422 L 45.949219 25.607422 C 47.399891 25.607422 48.481308 25.913387 49.195313 26.525391 C 49.909317 27.137394 50.265625 28.015484 50.265625 29.160156 C 50.265625 29.896828 50.076935 30.533932 49.697266 31.072266 C 49.3176 31.610603 48.793671 31.958519 48.125 32.117188 L 48.125 32.236328 C 49.349007 32.474327 49.960938 33.274757 49.960938 34.634766 L 49.960938 36.572266 C 49.960938 36.798935 49.971474 37.033676 49.994141 37.277344 C 50.016808 37.521011 50.079639 37.762001 50.181641 38 L 47.511719 38 C 47.443718 37.852669 47.393375 37.653633 47.359375 37.404297 C 47.325375 37.154961 47.308594 36.878265 47.308594 36.572266 L 47.308594 35.09375 C 47.308594 34.561081 47.180782 34.152473 46.925781 33.869141 C 46.67078 33.585808 46.169876 33.443359 45.421875 33.443359 L 42.480469 33.443359 L 42.480469 38 L 39.828125 38 Z M 31.652344 35.892578 C 32.717682 35.892578 33.566502 35.54895 34.201172 34.863281 C 34.835842 34.177612 35.154297 33.15493 35.154297 31.794922 C 35.154297 30.434917 34.835842 29.414379 34.201172 28.734375 C 33.566502 28.054371 32.717682 27.714844 31.652344 27.714844 C 30.587006 27.714844 29.738377 28.054371 29.109375 28.734375 C 28.480371 29.414379 28.166016 30.434917 28.166016 31.794922 C 28.166016 33.16626 28.48447 34.191093 29.119141 34.871094 C 29.753811 35.551098 30.598339 35.892578 31.652344 35.892578 Z M 42.480469 31.335938 L 45.556641 31.335938 C 46.270645 31.335938 46.784035 31.166172 47.095703 30.826172 C 47.407372 30.486172 47.564453 30.050251 47.564453 29.517578 C 47.564453 28.894245 47.380051 28.452072 47.011719 28.191406 C 46.643383 27.930737 46.15731 27.800781 45.556641 27.800781 L 42.480469 27.800781 L 42.480469 31.335938 Z"/>\n</svg>',tooltip:"Bool XOR"}],[{type:"env-get@v1",icon:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">\n   <path id="path1" fill-rule="evenodd" stroke="none" d="M 6.92 17.190001 L 6.92 16.112 C 5.790661 16.009333 4.934336 15.659336 4.351 15.062 C 3.767664 14.464664 3.476 13.708672 3.476 12.794 L 5.674 12.794 C 5.683333 13.298002 5.839665 13.703999 6.143 14.012 C 6.446335 14.320002 6.938663 14.474 7.62 14.474 C 8.142669 14.474 8.560331 14.373668 8.873 14.173 C 9.185668 13.972332 9.342 13.662003 9.342 13.242001 C 9.342 12.915332 9.272 12.658668 9.132 12.472 C 8.991999 12.285333 8.758668 12.140667 8.432 12.038 C 8.105331 11.935333 7.662003 11.837334 7.102 11.744 C 6.41133 11.622666 5.809336 11.452334 5.296 11.233 C 4.782664 11.013665 4.383668 10.705668 4.099 10.309 C 3.814332 9.912332 3.672 9.401337 3.672 8.776 C 3.672 7.898663 3.958997 7.189336 4.533 6.648 C 5.107003 6.106664 5.902662 5.789333 6.92 5.696 L 6.92 4.59 L 8.165999 4.59 L 8.165999 5.71 C 9.127338 5.812667 9.887998 6.132331 10.448 6.669 C 11.008003 7.205669 11.292666 7.884663 11.302 8.706 L 9.118 8.706 C 9.099333 8.201998 8.931334 7.840335 8.613999 7.621 C 8.296665 7.401666 7.914002 7.292 7.466 7.292 C 6.989997 7.292 6.614335 7.401666 6.339 7.621 C 6.063665 7.840335 5.926 8.131998 5.926 8.496 C 5.926 8.804002 6.000666 9.037333 6.15 9.196 C 6.299334 9.354668 6.541998 9.478333 6.878 9.567 C 7.214002 9.655667 7.657331 9.751333 8.208 9.854 C 8.628002 9.919333 9.038665 10.007999 9.44 10.12 C 9.841335 10.232 10.205332 10.399999 10.532 10.624 C 10.858668 10.848001 11.117665 11.151331 11.309 11.534 C 11.500335 11.916669 11.596 12.420664 11.596 13.046 C 11.596 13.876671 11.309003 14.571997 10.735 15.132 C 10.160997 15.692003 9.304672 16.018665 8.165999 16.112 L 8.165999 17.190001 Z"/>\n   <path id="1" fill-rule="evenodd" stroke="none" d="M 14.0995 10 L 14.0995 5.018833 L 12.226417 5.018833 L 12.226417 3.866167 L 12.535167 3.866167 C 13.022308 3.866167 13.408241 3.747814 13.692979 3.511105 C 13.977716 3.274395 14.140666 2.963932 14.181833 2.579708 L 15.612375 2.579708 L 15.612375 10 Z"/>\n</svg>',tooltip:"Single Environment Variable"},{type:"env-array@v1",icon:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">\n   <path id="path1" fill-rule="evenodd" stroke="none" d="M 6.92 17.190001 L 6.92 16.112 C 5.790661 16.009333 4.934336 15.659336 4.351 15.062 C 3.767664 14.464664 3.476 13.708672 3.476 12.794 L 5.674 12.794 C 5.683333 13.298002 5.839665 13.703999 6.143 14.012 C 6.446335 14.320002 6.938663 14.474 7.62 14.474 C 8.142669 14.474 8.560331 14.373668 8.873 14.173 C 9.185668 13.972332 9.342 13.662003 9.342 13.242001 C 9.342 12.915332 9.272 12.658668 9.132 12.472 C 8.991999 12.285333 8.758668 12.140667 8.432 12.038 C 8.105331 11.935333 7.662003 11.837334 7.102 11.744 C 6.41133 11.622666 5.809336 11.452334 5.296 11.233 C 4.782664 11.013665 4.383668 10.705668 4.099 10.309 C 3.814332 9.912332 3.672 9.401337 3.672 8.776 C 3.672 7.898663 3.958997 7.189336 4.533 6.648 C 5.107003 6.106664 5.902662 5.789333 6.92 5.696 L 6.92 4.59 L 8.165999 4.59 L 8.165999 5.71 C 9.127338 5.812667 9.887998 6.132331 10.448 6.669 C 11.008003 7.205669 11.292666 7.884663 11.302 8.706 L 9.118 8.706 C 9.099333 8.201998 8.931334 7.840335 8.613999 7.621 C 8.296665 7.401666 7.914002 7.292 7.466 7.292 C 6.989997 7.292 6.614335 7.401666 6.339 7.621 C 6.063665 7.840335 5.926 8.131998 5.926 8.496 C 5.926 8.804002 6.000666 9.037333 6.15 9.196 C 6.299334 9.354668 6.541998 9.478333 6.878 9.567 C 7.214002 9.655667 7.657331 9.751333 8.208 9.854 C 8.628002 9.919333 9.038665 10.007999 9.44 10.12 C 9.841335 10.232 10.205332 10.399999 10.532 10.624 C 10.858668 10.848001 11.117665 11.151331 11.309 11.534 C 11.500335 11.916669 11.596 12.420664 11.596 13.046 C 11.596 13.876671 11.309003 14.571997 10.735 15.132 C 10.160997 15.692003 9.304672 16.018665 8.165999 16.112 L 8.165999 17.190001 Z"/>\n   <path id="path2" fill-rule="evenodd" stroke="none" d="M 14.168 9.272 L 14.168 8.144 L 14.504 6.632 L 13.328 7.664 L 12.32 8.216 L 11.6 6.968 L 12.584 6.416 L 14.048 5.888 L 12.584 5.384 L 11.6 4.832001 L 12.32 3.584 L 13.328 4.136 L 14.504 5.144 L 14.168 3.632 L 14.168 2.504 L 15.632 2.504 L 15.632 3.632 L 15.296 5.144 L 16.496 4.136 L 17.504 3.584 L 18.200001 4.832001 L 17.216 5.384 L 15.752 5.888 L 17.216 6.416 L 18.200001 6.968 L 17.504 8.216 L 16.496 7.664 L 15.296 6.632 L 15.632 8.144 L 15.632 9.272 Z"/>\n</svg>',tooltip:"Environment Variables"},{type:"gh-secret@v1",icon:u.OD7,tooltip:"Github Secret"}],[{type:"run@v1",icon:u.N4I,tooltip:"Run"}],[{type:"string-match@v1",icon:r.UJX,tooltip:"String Match"},{type:"string-op@v1",icon:L.haG,tooltip:"String Operations"},{type:"string-fmt@v1",icon:L.qmJ,tooltip:"String Format"}]],this.messageSubscription=this.vscode.messageObservable$.subscribe(function(){var o=(0,f.Z)(function*(i){const{type:s,data:c}=i.data;switch(s){case"arrangeNodes":yield t.arrangeNodes();break;case"fitToCanvas":yield t.fitToCanvas();break;case"setFileData":{const l=c;try{yield t.debounceOpenGraph(l.uri,l.data,l.transform)}catch(d){console.error(d),t.ns.showNotification(B.Error,te(d))}break}}});return function(i){return o.apply(this,arguments)}}())}getPermission(){return this.gs.permissionObservable$}isVsCode(){return true}isWeb(){return false}isDev(){return false}getOrigin(){return this.gs.originObservable$}openGraph(t,o,i){var s=this;return(0,f.Z)(function*(){if(!b)throw new Error("editor not initialized");if(!g)throw new Error("area not initialized");yield s.gs.loadGraph(o,!t.startsWith("git:"),function(){var l=(0,f.Z)(function*(d){yield s.loadGraphToEditor(d,i)});return function(d){return l.apply(this,arguments)}}());const c=[];for(const l of b.getNodes())c.push(g.update("node",l.id));yield Promise.all(c),i||(yield s.fitToCanvas())})()}ngOnDestroy(){this.messageSubscription.unsubscribe()}onCreateNode(t,o){var i=this;return(0,f.Z)(function*(){yield i.gs.createNode(o,null,!0)})()}createAndAddNodes(t,o){var i=this;return(0,f.Z)(function*(){const s=yield i.gs.createNode(t.type,t.id,!1,t.inputs,t.outputs);t.settings&&s.setSettings(t.settings),yield g.translate(s.id,t.position),o.set(t.id,s)})()}loadGraphToEditor(t,o){var i=this;return(0,f.Z)(function*(){if(!b)throw new Error("Editor not initialized");yield b.clear(),o&&(yield g.area.zoom(o.k,0,0),yield g.area.translate(o.x,o.y)),yield i.nr.loadFullNodeTypeDefinitions(new Set(t.nodes.map(d=>d.type)));const s=[],c=new Map;for(const d of t.nodes)s.push(i.createAndAddNodes(d,c));yield Promise.all(s);const l=[];for(const d of t.connections){const h=c.get(d.src.node),_=c.get(d.dst.node);if(void 0!==h&&void 0!==_){const y=h.getOutput(d.src.port),m=_.getInput(d.dst.port);if(void 0!==y&&void 0!==m){const C=new ce(h,y.socket,_,m.socket);l.push(b.addConnection(C))}}}for(const d of t.executions){const h=c.get(d.src.node),_=c.get(d.dst.node);if(void 0!==h&&void 0!==_){const y=h.getOutput(d.src.port),m=_.getInput(d.dst.port);if(void 0!==y&&void 0!==m){const C=b.addConnection(new ce(h,y.socket,_,m.socket));l.push(C)}}}yield Promise.all(l)})()}ngAfterViewInit(){var t=this;return(0,f.Z)(function*(){const{editor:o,area:i,connection:s}=yield function Dt(n,a){return re.apply(this,arguments)}(t.container.nativeElement,t.injector);o.use(Ce.root),i.use(Ce.area),t.gs.onNodeCreated$.subscribe(function(){var c=(0,f.Z)(function*(l){if(l.userCreated){const[d,h]=[t.container.nativeElement.clientWidth/2,t.container.nativeElement.clientHeight/2],{x:_,y,k:m}=i.area.transform;yield i.translate(l.node.id,{x:(d-_)/m,y:(h-y)/m})}});return function(l){return c.apply(this,arguments)}}()),s.addPipe(c=>{const{type:l}=c;switch(l){case"connectionpick":{const{data:d}=c,h=o.getNode(d.socket.nodeId);h&&h.addOutgoingConnection(d.socket.key);break}case"connectiondrop":{const{data:d}=c;if(d.socket){const h=o.getNode("output"===d.initial.side?d.initial.nodeId:d.socket.nodeId);h&&h.removeOutgoingConnection(d.initial.key)}else{const h=o.getNode(d.initial.nodeId);h&&(h.removeOutgoingConnection(d.initial.key),i.update("node",h.id))}break}}return c});{const c=we()(()=>{if(b&&g){const l=t.gs.serializeGraph(b,g,"");t.vscode.postMessage({type:"saveGraph",data:l})}},500,{leading:!0,trailing:!0,maxWait:500});t.gs.onInputChangeEvent$.subscribe(()=>{c()}),i.addPipe(l=>{const{type:d}=l;switch(d){case"nodedragged":if(!t.gs.isLoading()){const h=t.gs.serializeGraph(o,i,"");t.vscode.postMessage({type:"saveGraph",data:h})}break;case"pointerup":t.gs.isLoading()||t.vscode.postMessage({type:"saveTransform",data:i.area.transform})}return l}),o.addPipe(l=>{const{type:d}=l;switch(d){case"nodetranslated":case"nodecreated":case"noderemoved":case"connectioncreated":case"connectionremoved":if(!t.gs.isLoading()){const h=t.gs.serializeGraph(o,i,"");t.vscode.postMessage({type:"saveGraph",data:h})}}return l})}})()}arrangeNodes(){return(0,f.Z)(function*(){if(!U)throw new Error("arrange not initialized");yield U.layout()})()}fitToCanvas(){return(0,f.Z)(function*(){return new Promise(t=>{setTimeout(()=>{if(!b)throw new Error("editor not initialized");if(!g)throw new Error("area not initialized");A.mO.zoomAt(g,b.getNodes(),{scale:.75}).then(t)},0)})})()}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-graph-editor"]],viewQuery:function(o,i){if(1&o&&e.Gf(Cn,5),2&o){let s;e.iGM(s=e.CRH())&&(i.container=s.first)}},decls:12,vars:14,consts:[[1,"flex","flex-row","h-full"],["class","relative",4,"ngIf"],["class","absolute flex items-center justify-center w-40 h-8 right-0 dark:bg-gray-800 transform rotate-45 translate-y-6 translate-x-12",4,"ngIf"],[1,"cid-rete-background"],[1,"cid-rete"],["rete",""],[4,"ngIf"],[1,"relative"],["class","absolute z-[500] text-xl left-4 top-4 flex flex-col fill-gray-700 dark:fill-white whitespace-nowrap",4,"ngIf"],[1,"absolute","z-[500]","text-xl","left-4","top-4","flex","flex-col","fill-gray-700","dark:fill-white","whitespace-nowrap"],[1,"absolute","z-[500]","left-4","top-4","flex","flex-col","text-gray-700","dark:text-white","fill-gray-700","dark:fill-white"],["class","flex flex-row w-20 group pointer-events-none",4,"ngFor","ngForOf"],[1,"flex","flex-row","w-20","group","pointer-events-none"],["class","w-12 h-12 pointer-events-auto",3,"ngClass",4,"ngFor","ngForOf"],[1,"w-12","h-12","pointer-events-auto",3,"ngClass"],["matTooltipPosition","below","matTooltipShowDelay","200",1,"secondary","flex","items-center","justify-center","w-10","h-10","m-1","rounded-sm","shadow-md","cid-button-secondary",3,"innerHTML","matTooltip","click"],[1,"absolute","flex","items-center","justify-center","w-40","h-8","right-0","dark:bg-gray-800","transform","rotate-45","translate-y-6","translate-x-12"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0),e.YNc(1,wn,3,3,"div",1),e.YNc(2,xn,3,1,"div",1),e.ALo(3,"async"),e.YNc(4,bn,2,0,"div",2),e.ALo(5,"async"),e.TgZ(6,"div",3),e.ALo(7,"async"),e._UZ(8,"div",4,5),e.qZA(),e.YNc(10,kn,2,0,"ng-container",6),e.ALo(11,"async"),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",i.isWeb()),e.xp6(1),e.Q6J("ngIf",e.lcZ(3,6,i.getPermission())===i.Permission.Writable),e.xp6(2),e.Q6J("ngIf",e.lcZ(5,8,i.getPermission())===i.Permission.ReadOnly),e.xp6(2),e.ekj("readonly",i.isVsCode()&&e.lcZ(7,10,i.getPermission())===i.Permission.ReadOnly),e.xp6(4),e.Q6J("ngIf",e.lcZ(11,12,i.getPermission())===i.Permission.Writable))},dependencies:[v.mk,v.sg,v.O5,Y.gM,mn,v.Ov,pe],styles:['[_nghost-%COMP%]{flex-grow:1;overflow-x:auto}.cid-button-secondary[_ngcontent-%COMP%]{background-color:var(--vscode-button-secondaryBackground)}.cid-rete-background[_ngcontent-%COMP%]{background-color:#1e1e1e;height:100%;width:100%;background:linear-gradient(to top,rgb(228,228,228) 0%,rgb(255,255,255) 100%)}.cid-rete-background.readonly[_ngcontent-%COMP%]{content:"";padding:5px;background:repeating-linear-gradient(45deg,var(--vscode-editor-background),var(--vscode-editor-background) 10px,#465298 10px,#465298 20px)}.cid-rete[_ngcontent-%COMP%]{height:100%;width:100%;background-image:radial-gradient(circle,#16161620 1px,transparent 0),linear-gradient(#16161608 1.5px,transparent 1.5px),linear-gradient(90deg,#16161608 1.5px,transparent 1.5px)}[_ngcontent-%COMP%]:is([class=dark]   .cid-rete)[_ngcontent-%COMP%]{background-image:radial-gradient(circle,#ffffff15 1px,transparent 0),linear-gradient(#ffffff05 1.5px,transparent 1.5px),linear-gradient(90deg,#ffffff05 1.5px,transparent 1.5px)}.cid-rete[_ngcontent-%COMP%]{background-color:#1e1e1e;background-position:-1.5px -1.5px,-1.5px -1.5px,-1px -1px,-1px -1px;background-size:20px 20px,100px 100px,100px 100px}']})}return n})();function Mn(n,a){if(1&n&&(e.ynx(0),e._UZ(1,"ng-icon",8),e.BQk()),2&n){const t=a.ngIf;e.xp6(1),e.Q6J("color",t.color)("name",t.name)}}function Tn(n,a){if(1&n&&(e.TgZ(0,"div",1),e.YNc(1,Mn,2,2,"ng-container",2),e.TgZ(2,"div",3),e._uU(3),e.qZA(),e.TgZ(4,"vscode-button",4)(5,"span",5),e._uU(6,"Close"),e.qZA(),e.O4$(),e.TgZ(7,"svg",6),e._UZ(8,"path",7),e.qZA()()()),2&n){const t=a.$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.getIconInfo(t)),e.xp6(2),e.Oqu(t.message)}}let On=(()=>{class n{constructor(){this.ns=(0,e.f3M)(W),this.sub=null,this.notifications=[]}ngOnInit(){this.sub=this.ns.notification$.subscribe(t=>{this.notifications=t})}ngOnDestroy(){this.sub?.unsubscribe()}getIconInfo(t){switch(t.type){case B.Error:return{name:"octBlocked",color:"red"};case B.Info:return{name:"octInfo",color:"blue"};case B.Success:return{name:"octCheck",color:"green"};case B.Warning:return{name:"octAlertFill",color:"orange"};default:return{name:"octInfo",color:"blue"}}}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-notification"]],decls:1,vars:1,consts:[["class","w-full flex items-center gap-x-2 p-4 mb-2 rounded-sm shadow cid-notification",4,"ngFor","ngForOf"],[1,"w-full","flex","items-center","gap-x-2","p-4","mb-2","rounded-sm","shadow","cid-notification"],[4,"ngIf"],[1,"text-sm"],["type","button",1,"flex","justify-center","items-center","w-6","h-6"],[1,"sr-only"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 14 14",1,"w-3","h-3"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"],["size","16",3,"color","name"]],template:function(o,i){1&o&&e.YNc(0,Tn,9,2,"div",0),2&o&&e.Q6J("ngForOf",i.notifications)},dependencies:[v.sg,v.O5,$.sZ],styles:[".cid-notification[_ngcontent-%COMP%]{background-color:var(--vscode-panel-background)}"]})}return n})(),Bn=(()=>{class n{constructor(){this.title=location.hostname,this.appVersion="0.7.90"}ngOnInit(){const t=window.localStorage.getItem("theme");("dark"===t||!t)&&document.documentElement.classList.add("dark")}onClickToggleTheme(t){document.documentElement.classList.contains("dark")?(document.documentElement.classList.remove("dark"),window.localStorage.setItem("theme","light")):(document.documentElement.classList.add("dark"),window.localStorage.setItem("theme","dark"))}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"z-[1000]","fixed","left-1/2","top-2","transform","-translate-x-1/2"]],template:function(o,i){1&o&&(e._UZ(0,"app-graph-editor"),e.TgZ(1,"div",0),e._UZ(2,"app-notification"),e.qZA())},dependencies:[Ln,On]})}return n})();var Zn=p(7707),An=p(349),ae=p(6868);let Pn=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n,bootstrap:[Bn]});static#n=this.\u0275inj=e.cJS({providers:[{provide:ie,useFactory:()=>null},{provide:v.S$,useClass:v.Do}],imports:[D.b2,$.sU.withIcons({simpleGithub:ae.dWw,simpleTwitter:ae.TE2,simpleDiscord:ae.r9C,tablerWorld:L.bZv,tablerHome:L.$59,tablerGridDots:L.Re7,tablerVariable:L.wjQ,tablerBracketsContain:L.haG,tablerPlayerStopFilled:L.tpC,tablerPlayerPlayFilled:L.$nz,tablerPlayerPauseFilled:L.CE7,tablerWorldOff:L.zjn,tablerWall:L.m3j,tablerPlusEqual:L.n6L,tablerLogicNand:L.TW1,tablerCursorText:L.qmJ,tablerArrowsMinimize:L.Fcr,tablerArrowsMaximize:L.F6q,octKey:u.OD7,octTerminal:u.N4I,octBlocked:u.V8u,octCheck:u.U6i,octGitBranch:u.yvZ,octInfo:u.vdA,octAlertFill:u.Hfy,octQuestion:u.$pW,octPaperclip:u.FPk,octFeedMerged:u.htJ,octPlay:u.q_V,octChecklist:u.hfu,octGitMerge:u.f1X,octCodeSquare:u.bVx,octFeedForked:u.uIF,octChevronDown:u.XgR,octLightBulb:u.kqJ,octMoon:u.tVr,octFile:u.pBA,octFileAdded:u.TZJ,octCode:u.tE1,octThreeBars:u.jwr,octBellFill:u.QDA,octCircleSlash:u.Nsj,octCheckCircleFill:u.rq8,octLinkExternal:u.IqM,octLaw:u.V_f,octEye:u.x$o,octLogoGithub:u.dHC,octDiffRemoved:u.mxw,octMarkGithub:u.aIV,octPlus:u.Zs6,octBook:u.WK0,octLock:u.Q81,octFileDirectoryFill:u.X4o,octDiffAdded:u.u5x,octBroadcast:u.vg,octHistory:u.JzF,octRocket:u.JIz,octShieldCheck:u.WYx,octVerified:u.EnP,octTelescope:u.zBk,octDash:u.aRl,octTrash:u.ouT,octGift:u.LIl,octFeedDiscussion:u.Dz$,octVersions:u.wuw,octPencil:u.NNb,octCopy:u.wk,octRepo:u.YrP,octRepoForked:u.EjK,octCpu:u.MPd,octStar:u.$Rx,octStarFill:u.bQD,octDownload:u.fwb,featherActivity:r.Kd8,featherAirplay:r.lkV,featherAlertCircle:r.N8S,featherAlertOctagon:r.QFR,featherAlertTriangle:r.wgR,featherAlignCenter:r.ORt,featherAlignJustify:r.O49,featherAlignLeft:r.$Wp,featherAlignRight:r.qEU,featherAnchor:r.YbA,featherAperture:r.mHL,featherArchive:r.b_M,featherArrowDownCircle:r.CP6,featherArrowDownLeft:r.G5e,featherArrowDownRight:r.f5U,featherArrowDown:r.Hw$,featherArrowLeftCircle:r.W8x,featherArrowLeft:r._tD,featherArrowRightCircle:r.MfZ,featherArrowRight:r.YhC,featherArrowUpCircle:r.i$C,featherArrowUpLeft:r.g2S,featherArrowUpRight:r.rKb,featherArrowUp:r.StE,featherAtSign:r.FrM,featherAward:r.uwv,featherBarChart2:r.cay,featherBarChart:r.BaF,featherBatteryCharging:r.eDl,featherBattery:r.rQh,featherBellOff:r.z$6,featherBell:r.zlQ,featherBluetooth:r.KGB,featherBold:r.ab3,featherBookOpen:r.YW5,featherBook:r.MGP,featherBookmark:r.Km4,featherBox:r.TRh,featherBriefcase:r.gIN,featherCalendar:r._Wy,featherCameraOff:r.kXq,featherCamera:r.my6,featherCast:r.fDP,featherCheckCircle:r.KgY,featherCheckSquare:r.AFJ,featherCheck:r.JNK,featherChevronDown:r.b7n,featherChevronLeft:r.swv,featherChevronRight:r.ZPm,featherChevronUp:r.b6u,featherChevronsDown:r.RHj,featherChevronsLeft:r.pWI,featherChevronsRight:r.fyY,featherChevronsUp:r.Y$6,featherCircle:r.Zx8,featherClipboard:r.xTC,featherClock:r.FOT,featherCloudDrizzle:r.M2u,featherCloudLightning:r.zMY,featherCloudOff:r.d23,featherCloudRain:r.xcs,featherCloudSnow:r.xjl,featherCloud:r.ydZ,featherCode:r.WGv,featherCommand:r.wK3,featherCompass:r.Rzv,featherCopy:r.C$r,featherCornerDownLeft:r.LjT,featherCornerDownRight:r.Dn7,featherCornerLeftDown:r.$d1,featherCornerLeftUp:r.hJS,featherCornerRightDown:r.r_,featherCornerRightUp:r.dWq,featherCornerUpLeft:r.DI$,featherCornerUpRight:r.PUo,featherCpu:r.nYo,featherCreditCard:r.uIk,featherCrop:r.Ux$,featherCrosshair:r.Yd2,featherDatabase:r.x6P,featherDelete:r.DkG,featherDisc:r.IER,featherDollarSign:r.v95,featherDownloadCloud:r.tU,featherDownload:r.Nyk,featherDroplet:r.HtI,featherEdit2:r.E8d,featherEdit3:r.hg9,featherEdit:r.l_3,featherExternalLink:r.Tlt,featherEyeOff:r.dpI,featherEye:r.qbf,featherFastForward:r.d4y,featherFeather:r.G9I,featherFileMinus:r.Wny,featherFilePlus:r.EiY,featherFileText:r.Ax_,featherFile:r.peW,featherFilm:r.X4O,featherFilter:r.V3n,featherFlag:r.Fj1,featherFolderMinus:r.vGT,featherFolderPlus:r.Q97,featherFolder:r.NsZ,featherGift:r.gpP,featherGitBranch:r.Xdt,featherGitCommit:r.s27,featherGitMerge:r.C$j,featherGitPullRequest:r.lBw,featherGlobe:r.xfW,featherGrid:r.eTW,featherHardDrive:r.QDS,featherHash:r.Xay,featherHeadphones:r.nsD,featherHeart:r.jK3,featherHelpCircle:r.Fbl,featherHome:r.Mgo,featherImage:r.HPM,featherInbox:r.Jn4,featherInfo:r.R7y,featherItalic:r.tqS,featherLayers:r.uEA,featherLayout:r.jQm,featherLifeBuoy:r.Ksu,featherLink2:r.nET,featherLink:r.HQT,featherList:r.Pye,featherLoader:r.mww,featherLock:r.G1$,featherLogIn:r.E8J,featherLogOut:r.Mid,featherMail:r.nnG,featherMapPin:r.erD,featherMap:r.xdO,featherMaximize2:r.s6d,featherMaximize:r.bRh,featherMenu:r.SFB,featherMessageCircle:r.E3L,featherMessageSquare:r.woP,featherMicOff:r.cU7,featherMic:r.s8g,featherMinimize2:r.FHt,featherMinimize:r.wp,featherMinusCircle:r.ZPO,featherMinusSquare:r.cN6,featherMinus:r.Q4M,featherMonitor:r.TW4,featherMoon:r.ke3,featherMoreHorizontal:r.Mbg,featherMoreVertical:r.XlB,featherMove:r.mKj,featherMusic:r.PZ4,featherNavigation2:r.HST,featherNavigation:r.dmx,featherOctagon:r.Tcs,featherPackage:r.vyT,featherPaperclip:r.sWL,featherPauseCircle:r.u1z,featherPause:r.KQe,featherPercent:r.pSt,featherPhoneCall:r.PMx,featherPhoneForwarded:r.vR7,featherPhoneIncoming:r.gHn,featherPhoneMissed:r.nFt,featherPhoneOff:r.LCx,featherPhoneOutgoing:r.ZBj,featherPhone:r.Ik6,featherPieChart:r.d_4,featherPlayCircle:r.qZ,featherPlay:r.smx,featherPlusCircle:r.B1W,featherPlusSquare:r.Ckl,featherPlus:r.IjV,featherPocket:r.l8v,featherPower:r.Ut2,featherPrinter:r.tjC,featherRadio:r.PuY,featherRefreshCcw:r.c3r,featherRefreshCw:r.ZGs,featherRepeat:r.RgA,featherRewind:r.Bby,featherRotateCcw:r.$OB,featherRotateCw:r.Dbi,featherRss:r.pUg,featherSave:r.i3B,featherScissors:r.wLv,featherSearch:r.UJX,featherSend:r.jJL,featherServer:r.Lxo,featherSettings:r.Aeo,featherShare2:r.kiB,featherShare:r.qwV,featherShieldOff:r.HDK,featherShield:r.NPM,featherShoppingBag:r.bBh,featherShoppingCart:r.yPR,featherShuffle:r.M4C,featherSidebar:r.VXu,featherSkipBack:r.KBw,featherSkipForward:r.KrZ,featherSlash:r.jW$,featherSliders:r.XCF,featherSmartphone:r.mXf,featherSpeaker:r.K6P,featherSquare:r.CR5,featherStar:r.dcm,featherStopCircle:r.pju,featherSun:r.oBM,featherSunrise:r.wOx,featherSunset:r.TwR,featherTablet:r.s9_,featherTag:r.lD,featherTarget:r.SIn,featherTerminal:r.PZB,featherThermometer:r.AAJ,featherThumbsDown:r.ihx,featherThumbsUp:r.nZA,featherToggleLeft:r.bBc,featherToggleRight:r.Ia9,featherTrash2:r.MjG,featherTrash:r.wuW,featherTrendingDown:r.Elu,featherTrendingUp:r.DWe,featherTriangle:r.AH6,featherTruck:r.MrB,featherTv:r.Jis,featherType:r.dog,featherUmbrella:r.mVi,featherUnderline:r.RRI,featherUnlock:r.Ey7,featherUploadCloud:r.ukg,featherUpload:r.BNf,featherUserCheck:r.zMx,featherUserMinus:r.Aol,featherUserPlus:r._DL,featherUserX:r.jTA,featherUser:r.jyA,featherUsers:r.H7c,featherVideoOff:r.pAv,featherVideo:r.FkL,featherVoicemail:r.vdN,featherVolume1:r.bBu,featherVolume2:r.r2M,featherVolumeX:r.xzW,featherVolume:r.wh8,featherWatch:r.zXK,featherWifiOff:r.rN6,featherWifi:r.O$0,featherWind:r.tZh,featherXCircle:r.a$l,featherXSquare:r.LTO,featherX:r.eYW,featherZapOff:r.Ujc,featherZap:r.$Hk,featherZoomIn:r.D4m,featherZoomOut:r.CHg}),Y.AV,ve.Iq,An.PW,J.JF,Zn.ZX,H.xF,K.u5]})}return n})();D.q6().bootstrapModule(Pn).catch(n=>console.error(n))}},R=>{R.O(0,[736],()=>R(R.s=3430)),R.O()}]);